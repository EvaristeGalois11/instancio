<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://www.instancio.org/user-guide/">
      
      
        <link rel="prev" href="../getting-started/">
      
      
        <link rel="next" href="../building/">
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.3">
    
    
      
        <title>User Guide - Instancio</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6b71719e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MYZQVSS3LL"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-MYZQVSS3LL');
</script>

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
<meta name="description" content="Instancio is a library for instantiating and populating objects with random data. Its goal is to reduce the time and lines of code spent on manual data setup in unit tests.">

  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Instancio" class="md-header__button md-logo" aria-label="Instancio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Instancio
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              User Guide
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/instancio/instancio" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    instancio
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../getting-started/" class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      User Guide
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../building/" class="md-tabs__link">
      Building
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../articles/" class="md-tabs__link">
      Articles
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Instancio" class="md-nav__button md-logo" aria-label="Instancio" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Instancio
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/instancio/instancio" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    instancio
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        User Guide
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#project-goals" class="md-nav__link">
    Project Goals
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instancio-api" class="md-nav__link">
    Instancio API
  </a>
  
    <nav class="md-nav" aria-label="Instancio API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-objects" class="md-nav__link">
    Creating Objects
  </a>
  
    <nav class="md-nav" aria-label="Creating Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-collections" class="md-nav__link">
    Creating collections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-record-and-sealed-classes" class="md-nav__link">
    Creating record and sealed Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-stream-of-objects" class="md-nav__link">
    Creating a Stream of Objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selectors" class="md-nav__link">
    Selectors
  </a>
  
    <nav class="md-nav" aria-label="Selectors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regular-selectors" class="md-nav__link">
    Regular selectors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-reference-selector" class="md-nav__link">
    Method reference selector
  </a>
  
    <nav class="md-nav" aria-label="Method reference selector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kotlin-method-reference-selector" class="md-nav__link">
    Kotlin method reference selector
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#predicate-selectors" class="md-nav__link">
    Predicate selectors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convenience-selectors" class="md-nav__link">
    Convenience selectors
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selector-precedence" class="md-nav__link">
    Selector Precedence
  </a>
  
    <nav class="md-nav" aria-label="Selector Precedence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-matching-selectors" class="md-nav__link">
    Multiple matching selectors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selector-scopes" class="md-nav__link">
    Selector Scopes
  </a>
  
    <nav class="md-nav" aria-label="Selector Scopes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-scopes" class="md-nav__link">
    Creating scopes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples-of-using-scopes" class="md-nav__link">
    Examples of using scopes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selector-strictness" class="md-nav__link">
    Selector Strictness
  </a>
  
    <nav class="md-nav" aria-label="Selector Strictness">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strict-mode" class="md-nav__link">
    Strict Mode
  </a>
  
    <nav class="md-nav" aria-label="Strict Mode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eliminate-errors-in-data-setup" class="md-nav__link">
    Eliminate errors in data setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplify-fixing-tests-after-refactoring" class="md-nav__link">
    Simplify fixing tests after refactoring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-test-code-clean-and-maintainable" class="md-nav__link">
    Keep test code clean and maintainable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lenient-mode" class="md-nav__link">
    Lenient Mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customising-objects" class="md-nav__link">
    Customising Objects
  </a>
  
    <nav class="md-nav" aria-label="Customising Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-generate" class="md-nav__link">
    Using generate()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-set" class="md-nav__link">
    Using set()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-supply" class="md-nav__link">
    Using supply()
  </a>
  
    <nav class="md-nav" aria-label="Using supply()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-supply-to-provide-non-random-values" class="md-nav__link">
    Using supply() to provide non-random values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-supply-to-provide-random-values" class="md-nav__link">
    Using supply() to provide random values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-oncomplete" class="md-nav__link">
    Using onComplete()
  </a>
  
    <nav class="md-nav" aria-label="Using onComplete()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#summary-of-methods-for-customising-objects" class="md-nav__link">
    Summary of methods for customising objects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ignoring-fields-or-classes" class="md-nav__link">
    Ignoring Fields or Classes
  </a>
  
    <nav class="md-nav" aria-label="Ignoring Fields or Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#precedence-of-ignore" class="md-nav__link">
    Precedence of ignore()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-of-ignore-with-java-records" class="md-nav__link">
    Usage of ignore() with Java records
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullable-values" class="md-nav__link">
    Nullable Values
  </a>
  
    <nav class="md-nav" aria-label="Nullable Values">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-nullability" class="md-nav__link">
    Field nullability
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#element-nullability" class="md-nav__link">
    Element nullability
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtype-mapping" class="md-nav__link">
    Subtype Mapping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-models" class="md-nav__link">
    Using Models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-generators" class="md-nav__link">
    Custom Generators
  </a>
  
    <nav class="md-nav" aria-label="Custom Generators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#custom-generator-example" class="md-nav__link">
    Custom Generator Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-overwriteexistingvalues-setting" class="md-nav__link">
    Modifying overwrite.existing.values setting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assignment-settings" class="md-nav__link">
    Assignment Settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maximum-depth-setting" class="md-nav__link">
    Maximum Depth Setting
  </a>
  
    <nav class="md-nav" aria-label="Maximum Depth Setting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modifying-maximum-depth" class="md-nav__link">
    Modifying Maximum Depth
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seed" class="md-nav__link">
    Seed
  </a>
  
    <nav class="md-nav" aria-label="Seed">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#specifying-seed-value" class="md-nav__link">
    Specifying Seed Value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-the-seed-value" class="md-nav__link">
    Getting the Seed Value
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bean-validation" class="md-nav__link">
    Bean Validation
  </a>
  
    <nav class="md-nav" aria-label="Bean Validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-annotations" class="md-nav__link">
    Supported Annotations
  </a>
  
    <nav class="md-nav" aria-label="Supported Annotations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#jakarta-or-javax" class="md-nav__link">
    Jakarta or Javax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hibernate" class="md-nav__link">
    Hibernate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metamodel" class="md-nav__link">
    Metamodel
  </a>
  
    <nav class="md-nav" aria-label="Metamodel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-the-annotation-processor" class="md-nav__link">
    Configuring the Annotation Processor
  </a>
  
    <nav class="md-nav" aria-label="Configuring the Annotation Processor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maven" class="md-nav__link">
    Maven
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle" class="md-nav__link">
    Gradle
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generating-metamodels" class="md-nav__link">
    Generating Metamodels
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overriding-settings-programmatically" class="md-nav__link">
    Overriding Settings Programmatically
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overriding-settings-using-a-properties-file" class="md-nav__link">
    Overriding Settings Using a Properties File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-precedence" class="md-nav__link">
    Settings Precedence
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instancio-service-provider-interface" class="md-nav__link">
    Instancio Service Provider Interface
  </a>
  
    <nav class="md-nav" aria-label="Instancio Service Provider Interface">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generatorprovider" class="md-nav__link">
    GeneratorProvider
  </a>
  
    <nav class="md-nav" aria-label="GeneratorProvider">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case" class="md-nav__link">
    Use Case
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeresolver" class="md-nav__link">
    TypeResolver
  </a>
  
    <nav class="md-nav" aria-label="TypeResolver">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_1" class="md-nav__link">
    Use Case
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typeinstantiator" class="md-nav__link">
    TypeInstantiator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#junit-jupiter-integration" class="md-nav__link">
    JUnit Jupiter Integration
  </a>
  
    <nav class="md-nav" aria-label="JUnit Jupiter Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reproducing-failed-tests" class="md-nav__link">
    Reproducing Failed Tests
  </a>
  
    <nav class="md-nav" aria-label="Reproducing Failed Tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seed-lifecycle-in-a-junit-jupiter-test" class="md-nav__link">
    Seed Lifecycle in a JUnit Jupiter Test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-failure-reporting" class="md-nav__link">
    Test Failure Reporting
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-injection" class="md-nav__link">
    Settings Injection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arguments-source" class="md-nav__link">
    Arguments Source
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../building/" class="md-nav__link">
        Building
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../articles/" class="md-nav__link">
        Articles
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>User Guide</h1>

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>Instancio is a Java library for generating test objects.
Its main goal is to reduce manual data setup in unit tests.
Its API was designed to be as non-intrusive and as concise as possible, while providing enough flexibility to customise generated objects.
Instancio requires no changes to production code, and it can be used out-of-the-box with zero configuration.</p>
<h3 id="project-goals">Project Goals<a class="headerlink" href="#project-goals" title="Permanent link">&para;</a></h3>
<p>There are several existing libraries for generating realistic test data, such as addresses, first and last names, and so on.
While Instancio also supports this use case, this is not its goal.
The idea behind the project is that most unit tests do not care what the actual values are.
They just require the <em>presence of a value</em>.
Therefore, the main goal of Instancio is simply to generate fully populated objects with random data, including arrays, collections, nested collections, generic types, and so on.
And it aims to do so with as little code as possible to keep the tests concise.</p>
<p>Another goal of Instancio is to make the tests more dynamic.
Since each test run is against random values, the tests become alive.
They cover a wider range of inputs, which might help uncover bugs that may have gone unnoticed with static data.
In many cases, the random nature of the data also removes the need for parameterising test methods.</p>
<p>Finally, Instancio aims to provide reproducible data.
It uses a consistent seed value for each object graph it generates.
Therefore, if a test fails against a given set of inputs, Instancio supports re-generating the same data set in order to reproduce the failed test.</p>
<h1 id="instancio-api">Instancio API<a class="headerlink" href="#instancio-api" title="Permanent link">&para;</a></h1>
<p>This section provides an overview of the API for creating and customising objects.</p>
<h2 id="creating-objects">Creating Objects<a class="headerlink" href="#creating-objects" title="Permanent link">&para;</a></h2>
<p>The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Instancio.html" target="_blank">Instancio</a> class is the entry point to the API.
It provides the following shorthand methods for creating objects.
These can be used when defaults suffice and generated values do not need to be customised.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Shorthand methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Model</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">model</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>The following builder methods allow chaining additional method calls in order to customise generated values, ignore certain fields, provide custom settings, and so on.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Builder API</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Model</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">model</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<p>The three arguments accepted by these methods can be used for different purposes.</p>
<div class="admonition attention">
<p><lnum>1</lnum> Creates an instance by specifying a class; this method should suffice in most cases.<br/>
<lnum>2</lnum> This method is for creating instances of generic types by supplying a type token.<br/>
<lnum>3</lnum> Creates an instance using an Instancio <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Model.html" target="_blank">Model</a>, which acts as a template for creating objects (see <a href="#using-models">Using Models</a>).</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples of create() methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1">// Create by specifying the class</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="c1">// Using type tokens</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="n">Pair</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Pair</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{});</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="p">,</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{});</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="c1">// Create from a model</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getAge</span><span class="p">))</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a><span class="w">    </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a><span class="n">Person</span><span class="w"> </span><span class="n">personWithoutAgeAndAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">personModel</span><span class="p">)</span>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getAddress</span><span class="p">))</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>It should be noted that generic types can also be created using <code>Instancio.of(Class)</code> and specifying the type parameters as arguments
to the <code>withTypeParameters()</code> method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span>
<span class="normal"><a href="#__codelineno-3-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="n">Pair</span><span class="o">&lt;</span><span class="n">String</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Pair</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withTypeParameters</span><span class="p">(</span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>However, this approach has a couple of drawbacks: it does not support nested generics, and its usage will produce an "unchecked assignment" warning.</p>
<h3 id="creating-collections">Creating collections<a class="headerlink" href="#creating-collections" title="Permanent link">&para;</a></h3>
<p>The builder API also supports creating collections using the following methods:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Collections API: using Class</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span>
<span class="normal"><a href="#__codelineno-4-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">ofList</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">elementType</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">ofSet</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">elementType</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">ofMap</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">K</span><span class="o">&gt;</span><span class="w"> </span><span class="n">keyType</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">valueType</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<p>In addition, <code>ofList()</code> and <code>ofSet()</code> can be used to create collections
from models:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Collections API: using Model</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">ofList</span><span class="p">(</span><span class="n">Model</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">elementModel</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">ofSet</span><span class="p">(</span><span class="n">Model</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">elementModel</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span>
<span class="normal"><a href="#__codelineno-6-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">ofList</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">size</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-6-2" name="__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="n">Map</span><span class="o">&lt;</span><span class="n">UUID</span><span class="p">,</span><span class="w"> </span><span class="n">Address</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">ofMap</span><span class="p">(</span><span class="n">UUID</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">size</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">::</span><span class="n">getCity</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Vancouver&quot;</span><span class="p">)</span>
<a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-6-6" name="__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="c1">// Create from a model</span>
<a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">:</span><span class="n">getAge</span><span class="p">))</span>
<a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">    </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span>
<a id="__codelineno-6-11" name="__codelineno-6-11"></a>
<a id="__codelineno-6-12" name="__codelineno-6-12"></a><span class="n">Set</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">ofSet</span><span class="p">(</span><span class="n">personModel</span><span class="p">).</span><span class="na">size</span><span class="p">(</span><span class="mi">5</span><span class="p">).</span><span class="na">create</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<p>Specifying the collection size is optional.
If no size is specified, a collection of random size (between 2 and 6 inclusive) will be generated.</p>
<h3 id="creating-record-and-sealed-classes">Creating <code>record</code> and <code>sealed</code> Classes<a class="headerlink" href="#creating-record-and-sealed-classes" title="Permanent link">&para;</a></h3>
<p>Instancio version <code>1.5.0</code> introduced support for creating</p>
<ul>
<li><code>record</code> classes when run on Java 16+, and</li>
<li><code>sealed</code> classes when run on Java 17+.</li>
</ul>
<p>This uses the same API as described above for creating regular classes.</p>
<h3 id="creating-a-stream-of-objects">Creating a Stream of Objects<a class="headerlink" href="#creating-a-stream-of-objects" title="Permanent link">&para;</a></h3>
<p>Instancio also provides methods for creating a <code>Stream</code> of objects.
The <code>stream()</code> methods return an infinite stream of distinct fully-populated instances.
Similarly to the <code>create()</code> methods, these have a shorthand form if no customisations are needed:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Shorthand methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>as well as the builder API that allows customising generated values:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Stream Builder API</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">TypeTokenSupplier</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">).</span><span class="na">stream</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<p>The following are a couple of examples of using streams. Note the calls to <code>limit()</code>,
which are required to avoid an infinite loop.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Examples of stream() methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span>
<span class="normal"><a href="#__codelineno-9-5">5</a></span>
<span class="normal"><a href="#__codelineno-9-6">6</a></span>
<span class="normal"><a href="#__codelineno-9-7">7</a></span>
<span class="normal"><a href="#__codelineno-9-8">8</a></span>
<span class="normal"><a href="#__codelineno-9-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">stream</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">limit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><a id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>
<a id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="n">Map</span><span class="o">&lt;</span><span class="n">UUID</span><span class="p">,</span><span class="w"> </span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">personMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{})</span>
<a id="__codelineno-9-6" name="__codelineno-9-6"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getAge</span><span class="p">),</span><span class="w"> </span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getAddress</span><span class="p">)))</span>
<a id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">    </span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<a id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">limit</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><a id="__codelineno-9-9" name="__codelineno-9-9"></a><span class="w">    </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toMap</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getUuid</span><span class="p">,</span><span class="w"> </span><span class="n">Function</span><span class="p">.</span><span class="na">identity</span><span class="p">()));</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">Since returned streams are infinite, <code>limit()</code> <em>must</em> be called to avoid an infinite loop.</p>
</div>
<h2 id="selectors">Selectors<a class="headerlink" href="#selectors" title="Permanent link">&para;</a></h2>
<p>Selectors are used to target fields and classes, for example in order to customise generated values.
Instancio supports different types of selectors, all of which implement the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/TargetSelector.html" target="_blank">TargetSelector</a> interface.
These types are:</p>
<ul>
<li>regular selectors</li>
<li>method reference selector</li>
<li>predicate selectors</li>
<li>selector groups</li>
<li>convenience selectors</li>
</ul>
<p>All of the above can be created using static methods from the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Select.html" target="_blank">Select</a> class.</p>
<h4 id="regular-selectors">Regular selectors<a class="headerlink" href="#regular-selectors" title="Permanent link">&para;</a></h4>
<p>Regular selectors are for precise matching: they can only match a single field or a single type.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">fieldName</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">declaringClass</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">fieldName</span><span class="p">)</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> Selects the field by name, declared in the class being created.<br/>
<lnum>2</lnum> Selects the field by name, declared in the specified class.<br/>
<lnum>3</lnum> Selects the specified class, including fields and collection elements of this type.<br/></p>
</div>
<div class="highlight"><span class="filename">Examples</span><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// Person.name</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</code></pre></div>
<p><code>Select.field()</code> is matched based on the exact field name.
If a field with the specified name does not exist, an error will be thrown.
<code>Select.all()</code> is matched using <code>Class</code> equality, therefore matching does not include subtypes.</p>
<h4 id="method-reference-selector">Method reference selector<a class="headerlink" href="#method-reference-selector" title="Permanent link">&para;</a></h4>
<p>This selector uses method references to match fields.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">GetMethodSelector</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">methodReference</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Example</span><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getName</span><span class="p">)</span>
</code></pre></div>
<p>Internally, method reference is converted to a regular field selector,
equivalent to <code>Select.field(Class&lt;?&gt; declaringClass, String fieldName)</code>.
This is done by mapping the method name to the corresponding field name.
The mapping logic supports the following naming conventions:</p>
<ul>
<li>Java beans - where getters are prefixed with <code>get</code> and, in case of booleans, <code>is</code>.</li>
<li>Java record - where method names match field names exactly.</li>
</ul>
<p>For example, all the following combinations of field and method names are supported:</p>
<table>
<thead>
<tr>
<th>Method name</th>
<th>Field name</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>getName()</code></td>
<td><code>name</code></td>
<td><code>field(Person::getName)</code>  -&gt; <code>field(Person.class, "name")</code></td>
</tr>
<tr>
<td><code>name()</code></td>
<td><code>name</code></td>
<td><code>field(Person::name)</code>  -&gt; <code>field(Person.class, "name")</code></td>
</tr>
<tr>
<td><code>isActive()</code></td>
<td><code>active</code></td>
<td><code>field(Person::isActive)</code>  -&gt; <code>field(Person.class, "active")</code></td>
</tr>
<tr>
<td><code>isActive()</code></td>
<td><code>isActive</code></td>
<td><code>field(Person::isActive)</code>  -&gt; <code>field(Person.class, "isActive")</code></td>
</tr>
</tbody>
</table>
<p>For methods that follow other naming conventions, or situations where no method is available, regular field selectors can be used instead.</p>
<div class="admonition info">
<p class="admonition-title">Regular selector definition</p>
<p>From here on, the definition of <em>regular selectors</em> also includes method reference selectors.</p>
</div>
<h5 id="kotlin-method-reference-selector">Kotlin method reference selector<a class="headerlink" href="#kotlin-method-reference-selector" title="Permanent link">&para;</a></h5>
<p>Since Instancio does not include Kotlin dependencies,
the method reference selector described above is only supported for Java classes.
If you use Kotlin, a similar selector can be implemented as a simple utility class shown below.
This sample assumes that the property has a non-null backing <code>javaField</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample implementation method reference selector for Kotlin</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="kd">class</span><span class="w"> </span><span class="nc">KSelect</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">    </span><span class="kd">companion</span><span class="w"> </span><span class="kd">object</span><span class="w"> </span><span class="err">{</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w">        </span><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">field</span><span class="p">(</span><span class="n">property</span><span class="p">:</span><span class="w"> </span><span class="n">KProperty1</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">V</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">TargetSelector</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">property</span><span class="p">.</span><span class="na">javaField</span><span class="o">!!</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">field</span><span class="p">.</span><span class="na">declaringClass</span><span class="p">,</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">name</span><span class="p">)</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="p">}</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="c1">// Usage: KSelect.field(SamplePojo::value)</span>
</code></pre></div></td></tr></table></div>
<h4 id="predicate-selectors">Predicate selectors<a class="headerlink" href="#predicate-selectors" title="Permanent link">&para;</a></h4>
<p>Predicate selectors allow for greater flexibility in matching fields and classes.
These use a plural naming convention: <code>fields()</code> and <code>types()</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">fields</span><span class="p">(</span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">Field</span><span class="o">&gt;</span><span class="w"> </span><span class="n">fieldPredicate</span><span class="p">)</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">types</span><span class="p">(</span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">Class</span><span class="o">&lt;?&gt;&gt;</span><span class="w"> </span><span class="n">classPredicate</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> Selects all fields matching the predicate.<br/>
<lnum>2</lnum> Selects all types matching the predicate.<br/></p>
</div>
<div class="highlight"><span class="filename">Examples</span><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">fields</span><span class="p">(</span><span class="n">field</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">getName</span><span class="p">().</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;date&quot;</span><span class="p">))</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">types</span><span class="p">(</span><span class="n">klass</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Collection</span><span class="p">.</span><span class="na">class</span><span class="p">.</span><span class="na">isAssignableFrom</span><span class="p">(</span><span class="n">klass</span><span class="p">))</span>
</code></pre></div>
<p>Unlike regular selectors, these can match multiple fields or types.
For example, they can be used to match all fields declared by a class, or all classes within a package.
They can also be used to match a certain type, including its subtypes.</p>
<h4 id="convenience-selectors">Convenience selectors<a class="headerlink" href="#convenience-selectors" title="Permanent link">&para;</a></h4>
<p>Convenience selectors provide syntactic sugar built on top of regular and predicate selectors.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1">1</a></span>
<span class="normal"><a href="#__codelineno-17-2">2</a></span>
<span class="normal"><a href="#__codelineno-17-3">3</a></span>
<span class="normal"><a href="#__codelineno-17-4">4</a></span>
<span class="normal"><a href="#__codelineno-17-5">5</a></span>
<span class="normal"><a href="#__codelineno-17-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">GroupableSelector</span><span class="p">...</span><span class="w"> </span><span class="n">selectors</span><span class="p">)</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">allStrings</span><span class="p">()</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="n">Select</span><span class="p">.</span><span class="na">allInts</span><span class="p">()</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="n">Select</span><span class="p">.</span><span class="na">fields</span><span class="p">()</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="n">Select</span><span class="p">.</span><span class="na">types</span><span class="p">()</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="n">Select</span><span class="p">.</span><span class="na">root</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> For combining multiple regular selectors.<br/>
<lnum>2</lnum> Equivalent to <code>all(String.class)</code>.<br/>
<lnum>3</lnum> Equivalent to <code>all(all(int.class), all(Integer.class))</code>.<br/>
<lnum>4</lnum> Builder for constructing <code>Predicate&lt;Field&gt;</code> selectors.<br/>
<lnum>5</lnum> Builder for constructing <code>Predicate&lt;Class&lt;?&gt;&gt;</code> selectors.<br/>
<lnum>6</lnum> Selects the root, that is, the object being created.<br/></p>
</div>
<div class="admonition info">
<p class="admonition-title">The <code>allXxx()</code> methods such as <code>allInts()</code>, are available for all core types.</p>
</div>
<ul>
<li><strong><code>Select.all(GroupableSelector... selectors)</code></strong></li>
</ul>
<p>This method can be used for grouping multiple selectors, allowing for more concise code
as shown below. However, only regular selectors are groupable using <code>all()</code>. Predicate selectors are not groupable.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">all</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">::</span><span class="n">getCity</span><span class="p">),</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;postalCode&quot;</span><span class="p">),</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="n">all</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
</code></pre></div>
<ul>
<li><strong><code>Select.fields()</code></strong> and <strong><code>Select.types()</code></strong></li>
</ul>
<p>These selectors provide a builder API for constructing predicate selectors. 
For example, the following predicate that matches <code>Long</code> fields annotated with <code>@Id</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">fields</span><span class="p">(</span><span class="n">f</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">getType</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="na">getDeclaredAnnotation</span><span class="p">(</span><span class="n">Id</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span>
</code></pre></div>
<p>can also be expressed using the <code>fields()</code> predicate builder:</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">fields</span><span class="p">().</span><span class="na">ofType</span><span class="p">(</span><span class="n">Long</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">annotated</span><span class="p">(</span><span class="n">Id</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</code></pre></div>
- <strong><code>Select.root()</code></strong></p>
<p>This method selects the root object. The following snippet creates nested lists,
where the outer list and inner lists have different sizes:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;&gt;</span><span class="p">()</span><span class="w"> </span><span class="p">{})</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">root</span><span class="p">(),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">size</span><span class="p">(</span><span class="n">outerListSize</span><span class="p">))</span>
</span><a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">size</span><span class="p">(</span><span class="n">innerListSize</span><span class="p">))</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>In this case, <code>all(List.class)</code> matches all lists except the outer list,
because <code>root()</code> selector has higher precedence than other selectors.</p>
<h3 id="selector-precedence">Selector Precedence<a class="headerlink" href="#selector-precedence" title="Permanent link">&para;</a></h3>
<p>Selector precedence rules apply when multiple selectors match a field or class:</p>
<ul>
<li>Regular selectors have higher precedence than predicate selectors.</li>
<li>Field selectors have higher precedence than type selectors.</li>
</ul>
<p>Consider the following example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1">1</a></span>
<span class="normal"><a href="#__codelineno-22-2">2</a></span>
<span class="normal"><a href="#__codelineno-22-3">3</a></span>
<span class="normal"><a href="#__codelineno-22-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>This will produce an address object with all strings set to "foo". However, since field selectors
have higher precedence, the city will be set to "bar".</p>
<p>In the following example, the city will also be set to "bar" because the predicate <code>fields()</code> selector
has lower precedence than the regular <code>field()</code> selector:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1">1</a></span>
<span class="normal"><a href="#__codelineno-23-2">2</a></span>
<span class="normal"><a href="#__codelineno-23-3">3</a></span>
<span class="normal"><a href="#__codelineno-23-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">fields</span><span class="p">().</span><span class="na">named</span><span class="p">(</span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<h4 id="multiple-matching-selectors">Multiple matching selectors<a class="headerlink" href="#multiple-matching-selectors" title="Permanent link">&para;</a></h4>
<p>When more than one selector matches a given target, then the last selector wins.
This rule applies to both, regular and predicate selectors.</p>
<p>In the case of regular selectors, if the two are identical, the last selector simply
replaces the first (internally, regular selectors are stored as <code>Map</code> keys).</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span>
<span class="normal"><a href="#__codelineno-24-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// wins!</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Predicate selectors, on the other hand, are stored as a <code>List</code> and evaluated
sequentially starting from the last entry.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span>
<span class="normal"><a href="#__codelineno-25-3">3</a></span>
<span class="normal"><a href="#__codelineno-25-4">4</a></span>
<span class="normal"><a href="#__codelineno-25-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">fields</span><span class="p">().</span><span class="na">named</span><span class="p">(</span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">fields</span><span class="p">().</span><span class="na">named</span><span class="p">(</span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">)</span><span class="w"> </span><span class="c1">// wins!</span>
<a id="__codelineno-25-4" name="__codelineno-25-4"></a><span class="w">    </span><span class="p">.</span><span class="na">lenient</span><span class="p">()</span>
<a id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>In this particular example, the first entry remains unused,
therefore  <code>lenient()</code> mode must be enabled to prevent unused selector error
(see <a href="#selector-strictness">Selector Strictness</a>).</p>
<h3 id="selector-scopes">Selector Scopes<a class="headerlink" href="#selector-scopes" title="Permanent link">&para;</a></h3>
<p>Regular selectors provide the <code>within(Scope... scopes)</code> method for fine-tuning the targets selectors should be applied to.
Instancio supports two types of scope:</p>
<ul>
<li>Class-level scope: narrows down a selector to the specified class.</li>
<li>Field-level scope: narrows down a selector to the specified field of the target class.</li>
</ul>
<p>To illustrate how scopes work we will assume the following structure for the <code>Person</code> class
(getters and setters omitted).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="n">Address</span><span class="w"> </span><span class="n">homeAddress</span><span class="p">;</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="n">Address</span><span class="w"> </span><span class="n">workAddress</span><span class="p">;</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="p">}</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="kd">class</span> <span class="nc">Address</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">street</span><span class="p">;</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">city</span><span class="p">;</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="w">    </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Phone</span><span class="o">&gt;</span><span class="w"> </span><span class="n">phoneNumbers</span><span class="p">;</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="p">}</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="kd">class</span> <span class="nc">Phone</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">areaCode</span><span class="p">;</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="p">}</span>
</code></pre></div>
<p>Note that the <code>Person</code> class has two <code>Address</code> fields.
Selecting <code>field(Address::getCity)</code> would target both addresses, <code>homeAddress</code> and <code>workAddress</code>.
Without scopes, it would not be possible to set the two cities to different values.
Using scopes solves this problem:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Creating scope using toScope() method</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1">1</a></span>
<span class="normal"><a href="#__codelineno-27-2">2</a></span>
<span class="normal"><a href="#__codelineno-27-3">3</a></span>
<span class="normal"><a href="#__codelineno-27-4">4</a></span>
<span class="normal"><a href="#__codelineno-27-5">5</a></span>
<span class="normal"><a href="#__codelineno-27-6">6</a></span>
<span class="normal"><a href="#__codelineno-27-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="n">Scope</span><span class="w"> </span><span class="n">homeAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getHomeAddress</span><span class="p">).</span><span class="na">toScope</span><span class="p">();</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="n">Scope</span><span class="w"> </span><span class="n">workAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getWorkAddress</span><span class="p">).</span><span class="na">toScope</span><span class="p">();</span>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">::</span><span class="n">getCity</span><span class="p">).</span><span class="na">within</span><span class="p">(</span><span class="n">homeAddress</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">::</span><span class="n">getCity</span><span class="p">).</span><span class="na">within</span><span class="p">(</span><span class="n">workAddress</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>For more complex class structures, multiple scopes can be specified using <code>within(Scope...)</code> method.
When specifying multiple scopes, the order is important: from outermost to innermost scope.
Additional examples will be provided below.</p>
<h4 id="creating-scopes">Creating scopes<a class="headerlink" href="#creating-scopes" title="Permanent link">&para;</a></h4>
<p>Scopes can be created using:</p>
<ul>
<li><code>Select.scope()</code> static methods in the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Select.html" target="_blank">Select</a> class</li>
<li><code>Selector.toScope()</code> method provided by regular selectors</li>
</ul>
<p>The first approach requires specifying the target class and, for field-level scopes, the name of the field:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">scope</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="p">)</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">scope</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Examples</span><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">scope</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;homeAddress&quot;</span><span class="p">);</span>
</code></pre></div>
<p>The second approach is to create scopes from selectors using the <code>toScope()</code> method.
This method is only available for regular (non-predicate) selectors.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1">1</a></span>
<span class="normal"><a href="#__codelineno-30-2">2</a></span>
<span class="normal"><a href="#__codelineno-30-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="p">).</span><span class="na">toScope</span><span class="p">()</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">field</span><span class="p">).</span><span class="na">toScope</span><span class="p">()</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">GetMethodSelector</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="w"> </span><span class="n">R</span><span class="o">&gt;</span><span class="w"> </span><span class="n">methodReference</span><span class="p">).</span><span class="na">toScope</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><span class="filename">Examples</span><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">Select</span><span class="p">.</span><span class="na">all</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">toScope</span><span class="p">();</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;homeAddress&quot;</span><span class="p">).</span><span class="na">toScope</span><span class="p">();</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="n">Select</span><span class="p">.</span><span class="na">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getHomeAddress</span><span class="p">).</span><span class="na">toScope</span><span class="p">();</span>
</code></pre></div>
<h4 id="examples-of-using-scopes">Examples of using scopes<a class="headerlink" href="#examples-of-using-scopes" title="Permanent link">&para;</a></h4>
<p>To start off, without using scopes we can set all strings to the same value.
For example, the following snippet will set each string field of each class to "foo".</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Set all strings to &quot;Foo&quot;</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1">1</a></span>
<span class="normal"><a href="#__codelineno-32-2">2</a></span>
<span class="normal"><a href="#__codelineno-32-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Using <code>within()</code> we can narrow down the scope of the <code>allStrings()</code> selector. For brevity,
the <code>Instancio.of(Person.class)</code> line will be omitted.</p>
<div class="highlight"><span class="filename">Set all strings in all Address instances; this includes Phone instances as they are contained within addresses</span><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><span class="filename">Set all strings contained within lists (matches all Phone instances in our example)</span><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">List</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><span class="filename">Set all strings in Person.homeAddress address object</span><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;homeAddress&quot;</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Using <code>within()</code> also allows specifying multiple scopes. Scopes must be specified top-down, starting from the outermost to the innermost.</p>
<div class="highlight"><span class="filename">Set all strings of all Phone instances contained within Person.workAddress field</span><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;workAddress&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">scope</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<p>The <code>Person.workAddress</code> object contains a list of phones, therefore <code>Person.workAddress</code> is the outermost scope and is specified first.
<code>Phone</code> class is the innermost scope and is specified last.</p>
<p>The final examples illustrate the creation of scope objects from regular selectors.
The following examples are equivalent to each other:</p>
<div class="highlight"><span class="filename">Equivalent ways of creating scopes based on field</span><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;homeAddress&quot;</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;homeAddress&quot;</span><span class="p">).</span><span class="na">toScope</span><span class="p">()),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getHomeAddress</span><span class="p">).</span><span class="na">toScope</span><span class="p">()),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><span class="filename">Equivalent ways of creating scopes based on class</span><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">scope</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="n">set</span><span class="p">(</span><span class="n">allStrings</span><span class="p">().</span><span class="na">within</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">toScope</span><span class="p">()),</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="selector-strictness">Selector Strictness<a class="headerlink" href="#selector-strictness" title="Permanent link">&para;</a></h3>
<h4 id="strict-mode">Strict Mode<a class="headerlink" href="#strict-mode" title="Permanent link">&para;</a></h4>
<p>Instancio supports two modes: strict and lenient, an idea inspired by Mockito's highly useful strict stubbing feature.</p>
<p>In strict mode, unused selectors will trigger an error. In lenient mode, unused selectors are simply ignored.
By default, Instancio runs in strict mode. This is done for the following reasons:</p>
<ul>
<li>to eliminate errors in data setup</li>
<li>to simplify fixing tests after refactoring</li>
<li>to keep test code clean and maintainable</li>
</ul>
<h5 id="eliminate-errors-in-data-setup">Eliminate errors in data setup<a class="headerlink" href="#eliminate-errors-in-data-setup" title="Permanent link">&para;</a></h5>
<p>An unused selector could indicate an error in the data setup.
As an example, consider populating the following POJO:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1">1</a></span>
<span class="normal"><a href="#__codelineno-39-2">2</a></span>
<span class="normal"><a href="#__codelineno-39-3">3</a></span>
<span class="normal"><a href="#__codelineno-39-4">4</a></span>
<span class="normal"><a href="#__codelineno-39-5">5</a></span>
<span class="normal"><a href="#__codelineno-39-6">6</a></span>
<span class="normal"><a href="#__codelineno-39-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="kd">class</span> <span class="nc">SamplePojo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="hll"><span class="w">    </span><span class="n">SortedSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">;</span>
</span><a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="p">}</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">size</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</span><a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>At first glance, we might expect a <code>Set</code> of size 10 to be generated.
However, since the field is declared as a <code>SortedSet</code> and the class selector
targets <code>Set</code>, the <code>generate()</code> method will not be applied. </p>
<p>Since <code>all(Set.class)</code> did not match any target, Instancio produces an error:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>org.instancio.exception.UnusedSelectorException:
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a> -&gt; Unused selectors in generate(), set(), or supply():
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a> 1: all(Set)
</code></pre></div>
<p>Without being aware of this detail, it is easy to make this kind of error and face unexpected results
even with a simple class like the above. It gets trickier when generating more complex classes.
Strict mode helps reduce this type of error.</p>
<h5 id="simplify-fixing-tests-after-refactoring">Simplify fixing tests after refactoring<a class="headerlink" href="#simplify-fixing-tests-after-refactoring" title="Permanent link">&para;</a></h5>
<p>Refactoring always causes tests to break to some degree. As classes and fields get reorganised and renamed,
tests need to be updated to reflect the changes. Assuming there are existing tests utilising Instancio,
running tests in strict mode will quickly highlight any problems in data setup caused by refactoring.</p>
<h5 id="keep-test-code-clean-and-maintainable">Keep test code clean and maintainable<a class="headerlink" href="#keep-test-code-clean-and-maintainable" title="Permanent link">&para;</a></h5>
<p>Last but not least, it is important to keep tests clean and maintainable. Test code should be treated
with as much care as production code. Keeping the tests clean and concise makes them easier to maintain.</p>
<h4 id="lenient-mode">Lenient Mode<a class="headerlink" href="#lenient-mode" title="Permanent link">&para;</a></h4>
<p>While the strict mode is highly recommended, there is an option to switch to lenient mode.
The lenient mode can be enabled using the <code>lenient()</code> method:</p>
<div class="highlight"><span class="filename">Setting lenient mode using builder API</span><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">    </span><span class="c1">// snip...</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="p">.</span><span class="na">lenient</span><span class="p">()</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div>
<p>Or alternatively, it can be enabled via <code>Settings</code>:</p>
<div class="highlight"><span class="filename">Setting lenient mode using Settings</span><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">MODE</span><span class="p">,</span><span class="w"> </span><span class="n">Mode</span><span class="p">.</span><span class="na">LENIENT</span><span class="p">);</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="w">    </span><span class="c1">// snip...</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div>
<p>The lenient mode can also be enabled globally using <a href="#overriding-settings-using-a-properties-file"><code>instancio.properties</code></a>:</p>
<div class="highlight"><span class="filename">Setting lenient mode using properties file</span><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="n">mode</span><span class="o">=</span><span class="n">LENIENT</span>
</code></pre></div>
<h2 id="customising-objects">Customising Objects<a class="headerlink" href="#customising-objects" title="Permanent link">&para;</a></h2>
<p>Properties of an object created by Instancio can be customised using</p>
<ul>
<li><code>generate()</code></li>
<li><code>set()</code></li>
<li><code>supply()</code></li>
</ul>
<p>methods defined in the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html" target="_blank">InstancioApi</a> class.</p>
<h3 id="using-generate">Using <code>generate()</code><a class="headerlink" href="#using-generate" title="Permanent link">&para;</a></h3>
<p>The <code>generate()</code> method provides access to built-in generators for core types from the JDK,
such as strings, numeric types, dates, arrays, collections, and so on.
It allows modifying generation parameters for these types in order to fine-tune the data.
The usage is shown in the following example, where the <code>gen</code> parameter (of type <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generators/Generators.html" target="_blank">Generators</a>)
exposes the available generators to simplify their discovery using IDE auto-completion.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example of using generate()</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1">1</a></span>
<span class="normal"><a href="#__codelineno-44-2">2</a></span>
<span class="normal"><a href="#__codelineno-44-3">3</a></span>
<span class="normal"><a href="#__codelineno-44-4">4</a></span>
<span class="normal"><a href="#__codelineno-44-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;age&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">ints</span><span class="p">().</span><span class="na">range</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="mi">65</span><span class="p">))</span>
<a id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;pets&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">array</span><span class="p">().</span><span class="na">length</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;number&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">text</span><span class="p">().</span><span class="na">pattern</span><span class="p">(</span><span class="s">&quot;#d#d#d-#d#d-#d#d&quot;</span><span class="p">))</span>
<a id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Below is another example of customising a <code>Person</code>.
For instance, if the  <code>Person</code> class has a field <code>List&lt;Phone&gt;</code>, by default Instancio would use <code>ArrayList</code> as the implementation.
Using the collection generator, this can be overridden by specifying the type explicitly:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: customising a collection</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1">1</a></span>
<span class="normal"><a href="#__codelineno-45-2">2</a></span>
<span class="normal"><a href="#__codelineno-45-3">3</a></span>
<span class="normal"><a href="#__codelineno-45-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;phoneNumbers&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">().</span><span class="na">minSize</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="na">subtype</span><span class="p">(</span><span class="n">LinkedList</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;countryCode&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;+33&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+39&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+44&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+49&quot;</span><span class="p">))</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Each generator provides methods applicable to the type it generates, for example:</p>
<ul>
<li><code>gen.string().minLength(3).allowEmpty().nullable()</code></li>
<li><code>gen.map().size(5).nullableValues().subtype(TreeMap.class)</code></li>
<li><code>gen.temporal().localDate().future()</code></li>
<li><code>gen.longs().min(Long.MIN_VALUE)</code></li>
<li><code>gen.enumOf(MyEnum.class).excluding(MyEnum.FOO, MyEnum.BAR)</code></li>
</ul>
<p>In addition, most generators can also return generated values as Strings, for example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span>
<span class="normal"><a href="#__codelineno-46-5">5</a></span>
<span class="normal"><a href="#__codelineno-46-6">6</a></span>
<span class="normal"><a href="#__codelineno-46-7">7</a></span>
<span class="normal"><a href="#__codelineno-46-8">8</a></span>
<span class="normal"><a href="#__codelineno-46-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="kd">class</span> <span class="nc">Foo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">dateString</span><span class="p">;</span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">enumString</span><span class="p">;</span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="p">}</span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Foo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;dateString&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">temporal</span><span class="p">().</span><span class="na">localDate</span><span class="p">().</span><span class="na">past</span><span class="p">().</span><span class="na">asString</span><span class="p">())</span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;enumString&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">enumOf</span><span class="p">(</span><span class="n">MyEnum</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">as</span><span class="p">(</span><span class="n">e</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">name</span><span class="p">().</span><span class="na">toUpperCase</span><span class="p">()))</span>
<a id="__codelineno-46-9" name="__codelineno-46-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>The complete list of built-in generators:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nt">Generators</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="err">│</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="err">├──</span><span class="w"> </span><span class="nt">booleans</span><span class="o">()</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="err">├──</span><span class="w"> </span><span class="nt">chars</span><span class="o">()</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="err">├──</span><span class="w"> </span><span class="nt">bytes</span><span class="o">()</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="err">├──</span><span class="w"> </span><span class="nt">shorts</span><span class="o">()</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="err">├──</span><span class="w"> </span><span class="nt">ints</span><span class="o">()</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="err">├──</span><span class="w"> </span><span class="nt">longs</span><span class="o">()</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="err">├──</span><span class="w"> </span><span class="nt">floats</span><span class="o">()</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="err">├──</span><span class="w"> </span><span class="nt">doubles</span><span class="o">()</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="err">├──</span><span class="w"> </span><span class="nt">string</span><span class="o">()</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="err">│</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="err">├──</span><span class="w"> </span><span class="nt">array</span><span class="o">()</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="err">├──</span><span class="w"> </span><span class="nt">collection</span><span class="o">()</span>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="err">├──</span><span class="w"> </span><span class="nt">map</span><span class="o">()</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="err">├──</span><span class="w"> </span><span class="nt">emit</span><span class="o">()</span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="err">├──</span><span class="w"> </span><span class="nt">enumOf</span><span class="o">(</span><span class="nt">Class</span><span class="o">&lt;</span><span class="nt">E</span><span class="o">&gt;)</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="err">├──</span><span class="w"> </span><span class="nt">enumSet</span><span class="o">(</span><span class="nt">Class</span><span class="o">&lt;</span><span class="nt">E</span><span class="o">&gt;)</span>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="err">│</span>
<a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="err">├──</span><span class="w"> </span><span class="nt">oneOf</span><span class="o">(</span><span class="nt">Collection</span><span class="o">&lt;</span><span class="nt">T</span><span class="o">&gt;)</span>
<a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="err">├──</span><span class="w"> </span><span class="nt">oneOf</span><span class="o">(</span><span class="nt">T</span><span class="o">...)</span>
<a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a><span class="err">│</span>
<a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="err">├──</span><span class="w"> </span><span class="nt">math</span><span class="o">()</span>
<a id="__codelineno-47-24" name="__codelineno-47-24" href="#__codelineno-47-24"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">bigInteger</span><span class="o">()</span>
<a id="__codelineno-47-25" name="__codelineno-47-25" href="#__codelineno-47-25"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">bigDecimal</span><span class="o">()</span>
<a id="__codelineno-47-26" name="__codelineno-47-26" href="#__codelineno-47-26"></a><span class="err">│</span>
<a id="__codelineno-47-27" name="__codelineno-47-27" href="#__codelineno-47-27"></a><span class="err">├──</span><span class="w"> </span><span class="nt">net</span><span class="o">()</span>
<a id="__codelineno-47-28" name="__codelineno-47-28" href="#__codelineno-47-28"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">uri</span><span class="o">()</span>
<a id="__codelineno-47-29" name="__codelineno-47-29" href="#__codelineno-47-29"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">url</span><span class="o">()</span>
<a id="__codelineno-47-30" name="__codelineno-47-30" href="#__codelineno-47-30"></a><span class="err">│</span>
<a id="__codelineno-47-31" name="__codelineno-47-31" href="#__codelineno-47-31"></a><span class="err">├──</span><span class="w"> </span><span class="nt">io</span><span class="o">()</span>
<a id="__codelineno-47-32" name="__codelineno-47-32" href="#__codelineno-47-32"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">file</span><span class="o">()</span>
<a id="__codelineno-47-33" name="__codelineno-47-33" href="#__codelineno-47-33"></a><span class="err">│</span>
<a id="__codelineno-47-34" name="__codelineno-47-34" href="#__codelineno-47-34"></a><span class="err">├──</span><span class="w"> </span><span class="nt">nio</span><span class="o">()</span>
<a id="__codelineno-47-35" name="__codelineno-47-35" href="#__codelineno-47-35"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">path</span><span class="o">()</span>
<a id="__codelineno-47-36" name="__codelineno-47-36" href="#__codelineno-47-36"></a><span class="err">│</span>
<a id="__codelineno-47-37" name="__codelineno-47-37" href="#__codelineno-47-37"></a><span class="err">├──</span><span class="w"> </span><span class="nt">atomic</span><span class="o">()</span>
<a id="__codelineno-47-38" name="__codelineno-47-38" href="#__codelineno-47-38"></a><span class="err">│</span><span class="w">   </span><span class="err">├──</span><span class="w"> </span><span class="nt">atomicInteger</span><span class="o">()</span>
<a id="__codelineno-47-39" name="__codelineno-47-39" href="#__codelineno-47-39"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">atomicLong</span><span class="o">()</span>
<a id="__codelineno-47-40" name="__codelineno-47-40" href="#__codelineno-47-40"></a><span class="err">│</span>
<a id="__codelineno-47-41" name="__codelineno-47-41" href="#__codelineno-47-41"></a><span class="err">├──</span><span class="w"> </span><span class="nt">temporal</span><span class="o">()</span>
<a id="__codelineno-47-42" name="__codelineno-47-42" href="#__codelineno-47-42"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">calendar</span><span class="o">()</span>
<a id="__codelineno-47-43" name="__codelineno-47-43" href="#__codelineno-47-43"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">date</span><span class="o">()</span>
<a id="__codelineno-47-44" name="__codelineno-47-44" href="#__codelineno-47-44"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">duration</span><span class="o">()</span>
<a id="__codelineno-47-45" name="__codelineno-47-45" href="#__codelineno-47-45"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">instant</span><span class="o">()</span>
<a id="__codelineno-47-46" name="__codelineno-47-46" href="#__codelineno-47-46"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">localDate</span><span class="o">()</span>
<a id="__codelineno-47-47" name="__codelineno-47-47" href="#__codelineno-47-47"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">localDateTime</span><span class="o">()</span>
<a id="__codelineno-47-48" name="__codelineno-47-48" href="#__codelineno-47-48"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">localTime</span><span class="o">()</span>
<a id="__codelineno-47-49" name="__codelineno-47-49" href="#__codelineno-47-49"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">offsetDateTime</span><span class="o">()</span>
<a id="__codelineno-47-50" name="__codelineno-47-50" href="#__codelineno-47-50"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">offsetTime</span><span class="o">()</span>
<a id="__codelineno-47-51" name="__codelineno-47-51" href="#__codelineno-47-51"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">period</span><span class="o">()</span>
<a id="__codelineno-47-52" name="__codelineno-47-52" href="#__codelineno-47-52"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">sqlDate</span><span class="o">()</span>
<a id="__codelineno-47-53" name="__codelineno-47-53" href="#__codelineno-47-53"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">timestamp</span><span class="o">()</span>
<a id="__codelineno-47-54" name="__codelineno-47-54" href="#__codelineno-47-54"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">year</span><span class="o">()</span>
<a id="__codelineno-47-55" name="__codelineno-47-55" href="#__codelineno-47-55"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">yearMonth</span><span class="o">()</span>
<a id="__codelineno-47-56" name="__codelineno-47-56" href="#__codelineno-47-56"></a><span class="err">│</span><span class="w">   </span><span class="err">└──</span><span class="w"> </span><span class="nt">zonedDateTime</span><span class="o">()</span>
<a id="__codelineno-47-57" name="__codelineno-47-57" href="#__codelineno-47-57"></a><span class="err">│</span>
<a id="__codelineno-47-58" name="__codelineno-47-58" href="#__codelineno-47-58"></a><span class="err">└──</span><span class="w"> </span><span class="nt">text</span><span class="o">()</span>
<a id="__codelineno-47-59" name="__codelineno-47-59" href="#__codelineno-47-59"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="nt">csv</span><span class="o">()</span>
<a id="__codelineno-47-60" name="__codelineno-47-60" href="#__codelineno-47-60"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="nt">loremIpsum</span><span class="o">()</span>
<a id="__codelineno-47-61" name="__codelineno-47-61" href="#__codelineno-47-61"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="nt">pattern</span><span class="o">(</span><span class="nt">String</span><span class="o">)</span>
<a id="__codelineno-47-62" name="__codelineno-47-62" href="#__codelineno-47-62"></a><span class="w">    </span><span class="err">└──</span><span class="w"> </span><span class="nt">uuid</span><span class="o">()</span>
</code></pre></div>
<h3 id="using-set">Using <code>set()</code><a class="headerlink" href="#using-set" title="Permanent link">&para;</a></h3>
<p>The <code>set()</code> method can be used for setting a static value to selected targets,
just like a regular setter method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-48-1">1</a></span>
<span class="normal"><a href="#__codelineno-48-2">2</a></span>
<span class="normal"><a href="#__codelineno-48-3">3</a></span>
<span class="normal"><a href="#__codelineno-48-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-48-2" name="__codelineno-48-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">::</span><span class="n">getCountryCode</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;+1&quot;</span><span class="p">)</span>
<a id="__codelineno-48-3" name="__codelineno-48-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<a id="__codelineno-48-4" name="__codelineno-48-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>However, unlike a regular set method that can only be invoked on a single object,
the above will set <code>countryCode</code> to "+1" on <em>all</em> generated instances of <code>Phone</code> class.
Assuming the <code>Person</code> class contains a <code>List&lt;Phone&gt;</code>, they will all have the specified country code.
Similarly, all <code>LocalDateTime</code> values will be set to the same instance of <code>now()</code>.</p>
<h3 id="using-supply">Using <code>supply()</code><a class="headerlink" href="#using-supply" title="Permanent link">&para;</a></h3>
<p>The <code>supply()</code> method has two variants:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-49-1">1</a></span>
<span class="normal"><a href="#__codelineno-49-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1"></a><span class="n">supply</span><span class="p">(</span><span class="n">TargetSelector</span><span class="w"> </span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">Supplier</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supplier</span><span class="p">)</span>
<a id="__codelineno-49-2" name="__codelineno-49-2"></a><span class="n">supply</span><span class="p">(</span><span class="n">TargetSelector</span><span class="w"> </span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">Generator</span><span class="o">&lt;</span><span class="n">V</span><span class="o">&gt;</span><span class="w"> </span><span class="n">generator</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>The first accepts a <code>java.util.function.Supplier</code> and is for supplying <em>non-random</em> values.
The second accepts an Instancio <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generator/Generator.html" target="_blank">Generator</a> (a functional interface) and can be used for supplying <em>random</em> values.</p>
<h4 id="using-supply-to-provide-non-random-values">Using supply() to provide <em>non-random</em> values<a class="headerlink" href="#using-supply-to-provide-non-random-values" title="Permanent link">&para;</a></h4>
<p>The following is another example of setting all <code>LocalDateTime</code> instances to <code>now()</code>.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-50-1">1</a></span>
<span class="normal"><a href="#__codelineno-50-2">2</a></span>
<span class="normal"><a href="#__codelineno-50-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-50-2" name="__codelineno-50-2"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<a id="__codelineno-50-3" name="__codelineno-50-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Unlike the earlier example using <code>set()</code>, this will assign a new instance for each <code>LocalDateTime</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-51-1">1</a></span>
<span class="normal"><a href="#__codelineno-51-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="n">set</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w">        </span><span class="c1">// reuse the same instance for all dates</span>
<a id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="n">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDatime</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span><span class="w"> </span><span class="c1">// create a new instance for each date</span>
</code></pre></div></td></tr></table></div>
<h4 id="using-supply-to-provide-random-values">Using supply() to provide <em>random</em> values<a class="headerlink" href="#using-supply-to-provide-random-values" title="Permanent link">&para;</a></h4>
<p>The second variant of the <code>supply()</code> method can be used for supplying random values and objects.
This method takes a <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generator/Generator.html" target="_blank">Generator</a> as an argument, which is a functional interface with the following signature:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-52-1">1</a></span>
<span class="normal"><a href="#__codelineno-52-2">2</a></span>
<span class="normal"><a href="#__codelineno-52-3">3</a></span>
<span class="normal"><a href="#__codelineno-52-4">4</a></span>
<span class="normal"><a href="#__codelineno-52-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">org.instancio.Random</span><span class="p">;</span>
<a id="__codelineno-52-2" name="__codelineno-52-2"></a>
<a id="__codelineno-52-3" name="__codelineno-52-3"></a><span class="kd">interface</span> <span class="nc">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">);</span>
<a id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Using the provided <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Random.html" target="_blank">Random</a> instance ensures that generated objects are reproducible.
Since <code>Generator</code> is a functional interface it can be specified as a lambda expression:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-53-1">1</a></span>
<span class="normal"><a href="#__codelineno-53-2">2</a></span>
<span class="normal"><a href="#__codelineno-53-3">3</a></span>
<span class="normal"><a href="#__codelineno-53-4">4</a></span>
<span class="normal"><a href="#__codelineno-53-5">5</a></span>
<span class="normal"><a href="#__codelineno-53-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-53-2" name="__codelineno-53-2"></a><span class="w">        </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">Phone</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="w">                </span><span class="p">.</span><span class="na">countryCode</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;+1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;+52&quot;</span><span class="p">))</span>
<a id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="w">                </span><span class="p">.</span><span class="na">number</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="na">digits</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<a id="__codelineno-53-5" name="__codelineno-53-5"></a><span class="w">                </span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="w">        </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Generators can be used for generating simple value types as well as building complex objects.
They are described in more detail in the <a href="#custom-generators">Custom Generators</a> section.</p>
<h3 id="using-oncomplete">Using <code>onComplete()</code><a class="headerlink" href="#using-oncomplete" title="Permanent link">&para;</a></h3>
<p>Another option for customising generated data is using the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/OnCompleteCallback.html" target="_blank">OnCompleteCallback</a>, a functional interface with the following signature:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-54-1">1</a></span>
<span class="normal"><a href="#__codelineno-54-2">2</a></span>
<span class="normal"><a href="#__codelineno-54-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="kd">interface</span> <span class="nc">OnCompleteCallback</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-54-2" name="__codelineno-54-2"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">onComplete</span><span class="p">(</span><span class="n">T</span><span class="w"> </span><span class="n">object</span><span class="p">);</span>
<a id="__codelineno-54-3" name="__codelineno-54-3"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>The <code>OnCompleteCallback</code> is invoked <em>after</em> the generated object has been fully populated.
Callbacks can only be invoked on objects:</p>
<ul>
<li>created internally by the engine</li>
<li>created by custom generators via <code>supply(TargetSelector, Generator)</code> or generators registered via <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/spi/InstancioServiceProvider.GeneratorProvider.html" target="_blank">GeneratorProvider</a></li>
<li>created by internal generators using <code>generate(TargetSelector, Function)</code></li>
</ul>
<p>Callbacks are <em>never</em> invoked on objects provided using:</p>
<ul>
<li><code>supply(TargetSelector, Supplier)</code></li>
<li><code>set(TargetSelector, Object)</code></li>
</ul>
<p>The following example shows how the <code>Address</code> can be modified using a callback.
If the <code>Person</code> has a <code>List&lt;Address&gt;</code>, the callback will be invoked for every instance of the <code>Address</code> class that was generated.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: modifying an object via a callback</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-55-1">1</a></span>
<span class="normal"><a href="#__codelineno-55-2">2</a></span>
<span class="normal"><a href="#__codelineno-55-3">3</a></span>
<span class="normal"><a href="#__codelineno-55-4">4</a></span>
<span class="normal"><a href="#__codelineno-55-5">5</a></span>
<span class="normal"><a href="#__codelineno-55-6">6</a></span>
<span class="normal"><a href="#__codelineno-55-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-55-2" name="__codelineno-55-2"></a><span class="w">    </span><span class="p">.</span><span class="na">onComplete</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="w">        </span><span class="n">address</span><span class="p">.</span><span class="na">setCity</span><span class="p">(</span><span class="s">&quot;Vancouver&quot;</span><span class="p">);</span>
<a id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="w">        </span><span class="n">address</span><span class="p">.</span><span class="na">setProvince</span><span class="p">(</span><span class="s">&quot;BC&quot;</span><span class="p">);</span>
<a id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="w">        </span><span class="n">address</span><span class="p">.</span><span class="na">setCountry</span><span class="p">(</span><span class="s">&quot;Canada&quot;</span><span class="p">);</span>
<a id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">    </span><span class="p">})</span>
<a id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>If the object is mutable, callbacks allow modifying multiple fields at once.
However, callbacks cannot be used to modify immutable types.</p>
<p>Another property of callbacks is that they are only invoked on non-null objects.
In the following example, all address instances are nullable.
Therefore, a generated address instance may either be <code>null</code> or a fully-populated object.
However, if a <code>null</code> was generated, the callback will not be invoked.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Callbacks are only called on non-null values</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-56-1">1</a></span>
<span class="normal"><a href="#__codelineno-56-2">2</a></span>
<span class="normal"><a href="#__codelineno-56-3">3</a></span>
<span class="normal"><a href="#__codelineno-56-4">4</a></span>
<span class="normal"><a href="#__codelineno-56-5">5</a></span>
<span class="normal"><a href="#__codelineno-56-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-56-2" name="__codelineno-56-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withNullable</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
<a id="__codelineno-56-3" name="__codelineno-56-3"></a><span class="w">    </span><span class="p">.</span><span class="na">onComplete</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-56-4" name="__codelineno-56-4"></a><span class="w">        </span><span class="c1">// only-called if the generated address is not null</span>
<a id="__codelineno-56-5" name="__codelineno-56-5"></a><span class="w">    </span><span class="p">})</span>
<a id="__codelineno-56-6" name="__codelineno-56-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<hr />
<h4 id="summary-of-methods-for-customising-objects">Summary of methods for customising objects<a class="headerlink" href="#summary-of-methods-for-customising-objects" title="Permanent link">&para;</a></h4>
<p><strong>Methods</strong> <code>set(TargetSelector, Object)</code> and <code>supply(TargetSelector, Supplier)</code> are for supplying objects <em>as is</em>.
The provided objects are treated as read-only by the engine.
The behaviour of these methods cannot be customised.</p>
<ul>
<li>matching selectors will not be applied</li>
<li>the engine will not modify or populate any fields of the supplied object</li>
<li>callbacks are <em>not</em> invoked on objects provided by these methods</li>
</ul>
<p><strong>Method</strong> <code>supply(TargetSelector, Generator)</code> is for creating objects using custom <code>Generator</code> implementations.
This method offers configurable behaviour via the <code>AfterGenerate</code> hint.
By default, the hint is set to <code>POPULATE_NULLS_AND_DEFAULT_PRIMITIVES</code>, which implies:</p>
<ul>
<li>matching selectors will be applied</li>
<li>the engine will populate <code>null</code> fields and primitive fields containing default values</li>
</ul>
<p>The default value of the <code>AfterGenerate</code> hint can be overridden using <code>instancio.properties</code> and <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a>.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Callbacks are always invoked on objects created by generators regardless of <code>AfterGenerate</code> value.</p>
</div>
<p><strong>Method</strong> <code>generate(TargetSelector, Function)</code> is for customising objects created by internal generators.
Such objects include value types (numbers, strings, dates) and data structures (collections, arrays).</p>
<ul>
<li>matching selectors are <strong>always</strong> applied</li>
<li>matching callbacks are <strong>always</strong> invoked</li>
</ul>
<p>By default, the engine generates non-null values, unless specified otherwise.</p>
<h3 id="ignoring-fields-or-classes">Ignoring Fields or Classes<a class="headerlink" href="#ignoring-fields-or-classes" title="Permanent link">&para;</a></h3>
<p>By default, Instancio will attempt to populate every non-static field value.
The <code>ignore</code> method can be used where this is not desirable:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: ignoring certain fields and classes</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-57-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-57-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-57-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-57-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-57-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-57-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-57-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-57-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-57-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-57-10">10</a></span>
<span class="normal"><a href="#__codelineno-57-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getPets</span><span class="p">))</span>
<a id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
<a id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-57-5" name="__codelineno-57-5"></a>
<a id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="c1">// Or combining the selectors</span>
<a id="__codelineno-57-7" name="__codelineno-57-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-57-8" name="__codelineno-57-8"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span>
<a id="__codelineno-57-9" name="__codelineno-57-9"></a><span class="w">        </span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getPets</span><span class="p">),</span>
<a id="__codelineno-57-10" name="__codelineno-57-10"></a><span class="w">        </span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">)))</span>
<a id="__codelineno-57-11" name="__codelineno-57-11"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<h4 id="precedence-of-ignore">Precedence of <code>ignore()</code><a class="headerlink" href="#precedence-of-ignore" title="Permanent link">&para;</a></h4>
<p>The <code>ignore()</code> method has higher precedence than other methods. For example, in the following snippet
specifying <code>ignore(all(LocalDateTime.class))</code> but supplying a value for the <code>lastModified</code> field
will actually generate a <code>lastModified</code> with a <code>null</code> value.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-58-1">1</a></span>
<span class="normal"><a href="#__codelineno-58-2">2</a></span>
<span class="normal"><a href="#__codelineno-58-3">3</a></span>
<span class="normal"><a href="#__codelineno-58-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-58-2" name="__codelineno-58-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">class</span><span class="p">))</span>
<a id="__codelineno-58-3" name="__codelineno-58-3"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getLastModified</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">())</span>
<a id="__codelineno-58-4" name="__codelineno-58-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<h4 id="usage-of-ignore-with-java-records">Usage of <code>ignore()</code> with Java records<a class="headerlink" href="#usage-of-ignore-with-java-records" title="Permanent link">&para;</a></h4>
<p>When <code>ignore()</code> is used to target one of the required arguments of a <code>record</code> constructor,
then a default value for the ignored type will be generated.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-59-1">1</a></span>
<span class="normal"><a href="#__codelineno-59-2">2</a></span>
<span class="normal"><a href="#__codelineno-59-3">3</a></span>
<span class="normal"><a href="#__codelineno-59-4">4</a></span>
<span class="normal"><a href="#__codelineno-59-5">5</a></span>
<span class="normal"><a href="#__codelineno-59-6">6</a></span>
<span class="normal"><a href="#__codelineno-59-7">7</a></span>
<span class="normal"><a href="#__codelineno-59-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="kd">record</span> <span class="nc">PersonRecord</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-59-2" name="__codelineno-59-2"></a>
<a id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="n">PersonRecord</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">PersonRecord</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-59-4" name="__codelineno-59-4"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">allInts</span><span class="p">())</span>
<a id="__codelineno-59-5" name="__codelineno-59-5"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">allStrings</span><span class="p">())</span>
<a id="__codelineno-59-6" name="__codelineno-59-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-59-7" name="__codelineno-59-7"></a>
<a id="__codelineno-59-8" name="__codelineno-59-8"></a><span class="c1">// will produce: PersonRecord[name=null, age=0]</span>
</code></pre></div></td></tr></table></div>
<h3 id="nullable-values">Nullable Values<a class="headerlink" href="#nullable-values" title="Permanent link">&para;</a></h3>
<p>By default, Instancio generates non-null values.
There are cases where this behaviour may need to be relaxed, for example,
to verify that a piece of code does not fail in the presence of certain <code>null</code> values.
There are a few ways to specify that values can be nullable which can broadly be grouped into two categories:</p>
<ul>
<li>field nullability</li>
<li>array/collection element and map key/value nullability</li>
</ul>
<h4 id="field-nullability">Field nullability<a class="headerlink" href="#field-nullability" title="Permanent link">&para;</a></h4>
<p>Field declarations can be made nullable using:</p>
<ul>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withNullable(org.instancio.TargetSelector)" target="_blank">withNullable(TargetSelector)</a> method of the builder API</li>
<li>generator spec <code>nullable()</code> method (for generators that support it)</li>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a></li>
</ul>
<p>For example, the following marks <code>Person.address</code> and all <code>String</code> fields as nullable:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-60-1">1</a></span>
<span class="normal"><a href="#__codelineno-60-2">2</a></span>
<span class="normal"><a href="#__codelineno-60-3">3</a></span>
<span class="normal"><a href="#__codelineno-60-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-60-2" name="__codelineno-60-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withNullable</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getAddress</span><span class="p">))</span>
<a id="__codelineno-60-3" name="__codelineno-60-3"></a><span class="w">    </span><span class="p">.</span><span class="na">withNullable</span><span class="p">(</span><span class="n">allStrings</span><span class="p">())</span>
<a id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Some built-in generators also support marking values as nullable using the <code>nullable()</code> method.
As in the previous example, this also applies only to string fields,
and not, for example, <code>List&lt;String&gt;</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-61-1">1</a></span>
<span class="normal"><a href="#__codelineno-61-2">2</a></span>
<span class="normal"><a href="#__codelineno-61-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">allStrings</span><span class="p">(),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">string</span><span class="p">().</span><span class="na">nullable</span><span class="p">())</span>
<a id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>The final example, using <code>Settings</code>, follows the same principle:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-62-1">1</a></span>
<span class="normal"><a href="#__codelineno-62-2">2</a></span>
<span class="normal"><a href="#__codelineno-62-3">3</a></span>
<span class="normal"><a href="#__codelineno-62-4">4</a></span>
<span class="normal"><a href="#__codelineno-62-5">5</a></span>
<span class="normal"><a href="#__codelineno-62-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-62-2" name="__codelineno-62-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">STRING_NULLABLE</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-62-3" name="__codelineno-62-3"></a>
<a id="__codelineno-62-4" name="__codelineno-62-4"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-62-5" name="__codelineno-62-5"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-62-6" name="__codelineno-62-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<h4 id="element-nullability">Element nullability<a class="headerlink" href="#element-nullability" title="Permanent link">&para;</a></h4>
<p>Data structure elements can be made nullable using:</p>
<ul>
<li>array generator: <code>nullableElements()</code></li>
<li>collection generator: <code>nullableElements()</code></li>
<li>map generator: <code>nullableKeys()</code>, <code>nullableValues()</code></li>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> keys<ul>
<li><code>Keys.ARRAY_ELEMENTS_NULLABLE</code></li>
<li><code>Keys.COLLECTION_ELEMENTS_NULLABLE</code></li>
<li><code>Keys.MAP_KEYS_NULLABLE</code></li>
<li><code>Keys.MAP_VALUES_NULLABLE</code></li>
</ul>
</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using the collection generator</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-63-1">1</a></span>
<span class="normal"><a href="#__codelineno-63-2">2</a></span>
<span class="normal"><a href="#__codelineno-63-3">3</a></span>
<span class="normal"><a href="#__codelineno-63-4">4</a></span>
<span class="normal"><a href="#__codelineno-63-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-63-2" name="__codelineno-63-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="s">&quot;phoneNumbers&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">collection</span><span class="p">()</span>
<a id="__codelineno-63-3" name="__codelineno-63-3"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">nullable</span><span class="p">()</span>
</span><a id="__codelineno-63-4" name="__codelineno-63-4"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">nullableElements</span><span class="p">())</span>
</span><a id="__codelineno-63-5" name="__codelineno-63-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>3</lnum> The collection itself is nullable.<br/>
<lnum>4</lnum> Collection elements are nullable.</p>
</div>
<p>Assuming the <code>Person</code> class contains a <code>Map</code>, nullability can be specified for keys and values:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using the map generator</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-64-1">1</a></span>
<span class="normal"><a href="#__codelineno-64-2">2</a></span>
<span class="normal"><a href="#__codelineno-64-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-64-2" name="__codelineno-64-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Map</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">map</span><span class="p">().</span><span class="na">nullableKeys</span><span class="p">().</span><span class="na">nullableValues</span><span class="p">())</span>
<a id="__codelineno-64-3" name="__codelineno-64-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Lastly, element nullability can be specified using <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: specifying nullability using Settings</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-65-1">1</a></span>
<span class="normal"><a href="#__codelineno-65-2">2</a></span>
<span class="normal"><a href="#__codelineno-65-3">3</a></span>
<span class="normal"><a href="#__codelineno-65-4">4</a></span>
<span class="normal"><a href="#__codelineno-65-5">5</a></span>
<span class="normal"><a href="#__codelineno-65-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-65-2" name="__codelineno-65-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_ELEMENTS_NULLABLE</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span>
<a id="__codelineno-65-3" name="__codelineno-65-3"></a>
<a id="__codelineno-65-4" name="__codelineno-65-4"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-65-5" name="__codelineno-65-5"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-65-6" name="__codelineno-65-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<h2 id="subtype-mapping">Subtype Mapping<a class="headerlink" href="#subtype-mapping" title="Permanent link">&para;</a></h2>
<p>Subtype mapping allows mapping a type to its subtype.</p>
<p>By default, Instancio does not attempt to resolve the implementation class if given an abstract type.
Instead, the implementation class must be specified via the API, or a <code>null</code> value will be generated.</p>
<p>In addition, subtype mapping can also be useful for verifying the behaviour
of a class using different implementations.</p>
<p>The mapping can be specified using the <code>subtype()</code> method:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="n">subtype</span><span class="p">(</span><span class="n">TargetSelector</span><span class="w"> </span><span class="n">selector</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">subtype</span><span class="p">)</span>
</code></pre></div>
<p>or the <code>mapType()</code> method declared by the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> class:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="n">mapType</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">subtype</span><span class="p">)</span>
</code></pre></div>
<p>Functionally, the two methods are equivalent. However, one may be preferable over another
depending on the use case.</p>
<p>The <code>subtype()</code> method</p>
<ul>
<li>has higher precedence than the one offered by <code>Settings</code></li>
<li>provides more flexibility as it can be applied to any selector target, such as fields</li>
</ul>
<p>The <code>Settings.mapType()</code> method, on the other hand</p>
<ul>
<li>can only be mapped based on class</li>
<li>is reusable since an instance of <code>Settings</code> can be shared across multiple test methods</li>
<li>allows subtypes to be specified via <code>instancio.properties</code> and applied automatically</li>
</ul>
<p>The following is an example of using the <code>subtype()</code> method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-68-1">1</a></span>
<span class="normal"><a href="#__codelineno-68-2">2</a></span>
<span class="normal"><a href="#__codelineno-68-3">3</a></span>
<span class="normal"><a href="#__codelineno-68-4">4</a></span>
<span class="normal"><a href="#__codelineno-68-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-68-2" name="__codelineno-68-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Collection</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">all</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">class</span><span class="p">)),</span><span class="w"> </span><span class="n">TreeSet</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</span><a id="__codelineno-68-3" name="__codelineno-68-3"></a><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getPet</span><span class="p">),</span><span class="w"> </span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-68-4" name="__codelineno-68-4"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">AddressImpl</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</span><a id="__codelineno-68-5" name="__codelineno-68-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> Group selector can be used as long as the subtype is valid for all group members.<br/>
<lnum>4</lnum> Assuming <code>Address</code> is the superclass of <code>AddressImpl</code>.</p>
</div>
<p>The same can be specified using <code>Settings</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-69-1">1</a></span>
<span class="normal"><a href="#__codelineno-69-2">2</a></span>
<span class="normal"><a href="#__codelineno-69-3">3</a></span>
<span class="normal"><a href="#__codelineno-69-4">4</a></span>
<span class="normal"><a href="#__codelineno-69-5">5</a></span>
<span class="normal"><a href="#__codelineno-69-6">6</a></span>
<span class="normal"><a href="#__codelineno-69-7">7</a></span>
<span class="normal"><a href="#__codelineno-69-8">8</a></span>
<span class="normal"><a href="#__codelineno-69-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-69-2" name="__codelineno-69-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">mapType</span><span class="p">(</span><span class="n">Pet</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</span><a id="__codelineno-69-3" name="__codelineno-69-3"></a><span class="w">    </span><span class="p">.</span><span class="na">mapType</span><span class="p">(</span><span class="n">Collection</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">TreeSet</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-69-4" name="__codelineno-69-4"></a><span class="w">    </span><span class="p">.</span><span class="na">mapType</span><span class="p">(</span><span class="n">Set</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">TreeSet</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-69-5" name="__codelineno-69-5"></a><span class="w">    </span><span class="p">.</span><span class="na">mapType</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">AddressImpl</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-69-6" name="__codelineno-69-6"></a>
<a id="__codelineno-69-7" name="__codelineno-69-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-69-8" name="__codelineno-69-8"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-69-9" name="__codelineno-69-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> Note that this is not exactly equivalent to <code>subtype(field(Person::getPet), Cat.class)</code>,
since the field selector is a more specific target.</p>
</div>
<p>Finally, when specifying the mapping via <code>instancio.properties</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-70-1">1</a></span>
<span class="normal"><a href="#__codelineno-70-2">2</a></span>
<span class="normal"><a href="#__codelineno-70-3">3</a></span>
<span class="normal"><a href="#__codelineno-70-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1"></a><span class="na">subtype.java.util.Collection</span><span class="o">=</span><span class="s">java.util.TreeSet</span>
<a id="__codelineno-70-2" name="__codelineno-70-2"></a><span class="na">subtype.java.util.Set</span><span class="o">=</span><span class="s">java.util.TreeSet</span>
<a id="__codelineno-70-3" name="__codelineno-70-3"></a><span class="na">subtype.com.example.Pet</span><span class="o">=</span><span class="s">com.example.Cat</span>
<a id="__codelineno-70-4" name="__codelineno-70-4"></a><span class="na">subtype.com.example.Address</span><span class="o">=</span><span class="s">com.example.AddressImpl</span>
</code></pre></div></td></tr></table></div>
<p>subtypes are resolved automatically:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-71-1">1</a></span>
<span class="normal"><a href="#__codelineno-71-2">2</a></span>
<span class="normal"><a href="#__codelineno-71-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-71-2" name="__codelineno-71-2"></a>
<a id="__codelineno-71-3" name="__codelineno-71-3"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getPet</span><span class="p">()).</span><span class="na">isExactlyInstanceOf</span><span class="p">(</span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>In addition to specifying subtypes using the API or properties file, subtypes can be resolved
automatically by implementing the <a href="#instancio-service-provider-interface"><code>InstancioServiceProvider</code></a> interface.</p>
<h2 id="using-models">Using Models<a class="headerlink" href="#using-models" title="Permanent link">&para;</a></h2>
<p>A <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Model.html" target="_blank">Model</a> is a template for creating objects.
It encapsulates all the parameters specified using the builder API.
Once a model is defined, it can be used to create objects without duplicating the common properties.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: creating objects from a Model</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-72-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-72-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-72-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-72-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-72-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-72-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-72-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-72-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-72-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-72-10">10</a></span>
<span class="normal"><a href="#__codelineno-72-11">11</a></span>
<span class="normal"><a href="#__codelineno-72-12">12</a></span>
<span class="normal"><a href="#__codelineno-72-13">13</a></span>
<span class="normal"><a href="#__codelineno-72-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1"></a><span class="hll"><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">simpsonsModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
</span><a id="__codelineno-72-2" name="__codelineno-72-2"></a><span class="w">    </span><span class="p">.</span><span class="na">ignore</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getId</span><span class="p">))</span>
<a id="__codelineno-72-3" name="__codelineno-72-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getLastName</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Simpson&quot;</span><span class="p">)</span>
<a id="__codelineno-72-4" name="__codelineno-72-4"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">::</span><span class="n">getCity</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Springfield&quot;</span><span class="p">)</span>
<a id="__codelineno-72-5" name="__codelineno-72-5"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getAge</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">ints</span><span class="p">().</span><span class="na">range</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">))</span>
<a id="__codelineno-72-6" name="__codelineno-72-6"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span>
</span><a id="__codelineno-72-7" name="__codelineno-72-7"></a>
<a id="__codelineno-72-8" name="__codelineno-72-8"></a><span class="n">Person</span><span class="w"> </span><span class="n">homer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span>
<a id="__codelineno-72-9" name="__codelineno-72-9"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getFirstName</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Homer&quot;</span><span class="p">)</span>
<a id="__codelineno-72-10" name="__codelineno-72-10"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-72-11" name="__codelineno-72-11"></a>
<a id="__codelineno-72-12" name="__codelineno-72-12"></a><span class="n">Person</span><span class="w"> </span><span class="n">marge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span>
<a id="__codelineno-72-13" name="__codelineno-72-13"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getFirstName</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Marge&quot;</span><span class="p">)</span>
<a id="__codelineno-72-14" name="__codelineno-72-14"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> The <code>Model</code> class itself does not expose any public methods, and its instances are effectively immutable.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Objects created from a model inherit all the model's properties, including <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a>, <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Mode.html" target="_blank">Mode</a> and seed value.</p>
</div>
<p>A model can also be used as a template for creating other models.
Using the previous example, we can define a new model with additional data:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-73-1">1</a></span>
<span class="normal"><a href="#__codelineno-73-2">2</a></span>
<span class="normal"><a href="#__codelineno-73-3">3</a></span>
<span class="normal"><a href="#__codelineno-73-4">4</a></span>
<span class="normal"><a href="#__codelineno-73-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1"></a><span class="n">Model</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">simpsonsModelWithPets</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span>
<a id="__codelineno-73-2" name="__codelineno-73-2"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Person</span><span class="p">::</span><span class="n">getPets</span><span class="p">),</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">List</span><span class="p">.</span><span class="na">of</span><span class="p">(</span>
<a id="__codelineno-73-3" name="__codelineno-73-3"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">CAT</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Snowball&quot;</span><span class="p">),</span>
<a id="__codelineno-73-4" name="__codelineno-73-4"></a><span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">Pet</span><span class="p">(</span><span class="n">PetType</span><span class="p">.</span><span class="na">DOG</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Santa&#39;s Little Helper&quot;</span><span class="p">))</span>
<a id="__codelineno-73-5" name="__codelineno-73-5"></a><span class="w">    </span><span class="p">.</span><span class="na">toModel</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Having a common model allows test methods to create custom objects by overriding the model's properties via selectors
(including properties of nested objects). This also works for immutable objects, such as Java records.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-74-1">1</a></span>
<span class="normal"><a href="#__codelineno-74-2">2</a></span>
<span class="normal"><a href="#__codelineno-74-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">withNewAddress</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">simpsonsModel</span><span class="p">)</span>
<a id="__codelineno-74-2" name="__codelineno-74-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">:</span><span class="n">getCity</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Springograd&quot;</span><span class="p">)</span>
<a id="__codelineno-74-3" name="__codelineno-74-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>This approach reduces duplication and simplifies data setup, especially for complex classes with many fields and relationships.
More details on the benefits of using models, including a sample project, are provided in the article
<a href="/articles/creating-object-templates-using-models/">Creating object templates using Models</a>.</p>
<h2 id="custom-generators">Custom Generators<a class="headerlink" href="#custom-generators" title="Permanent link">&para;</a></h2>
<p>Every type of object Instancio generates is through an implementation of the <code>Generator</code> interface.
A number of internal generators are included out of the box for creating strings, numeric types, dates, collections, and so on.
Custom generators can also be defined to satisfy certain use cases:</p>
<ul>
<li>
<p>Generating types not supported out of the box, for example from third-party libraries such as Guava.</p>
</li>
<li>
<p>Creating pre-initialised domain objects. Some domain objects require to be constructed in a certain state to be valid.
To avoid duplicating the construction logic across different tests, it can be encapsulated by a custom generator that can be reused across the project.</p>
</li>
<li>
<p>Distributing generators as a library that can be shared across projects.</p>
</li>
</ul>
<p>The <code>Generator</code> is a functional interface with a single abstract method <code>generate(Random)</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-75-1">1</a></span>
<span class="normal"><a href="#__codelineno-75-2">2</a></span>
<span class="normal"><a href="#__codelineno-75-3">3</a></span>
<span class="normal"><a href="#__codelineno-75-4">4</a></span>
<span class="normal"><a href="#__codelineno-75-5">5</a></span>
<span class="normal"><a href="#__codelineno-75-6">6</a></span>
<span class="normal"><a href="#__codelineno-75-7">7</a></span>
<span class="normal"><a href="#__codelineno-75-8">8</a></span>
<span class="normal"><a href="#__codelineno-75-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1"></a><span class="nd">@FunctionalInterface</span>
<a id="__codelineno-75-2" name="__codelineno-75-2"></a><span class="kd">interface</span> <span class="nc">Generator</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-3" name="__codelineno-75-3"></a>
<a id="__codelineno-75-4" name="__codelineno-75-4"></a><span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">);</span>
<a id="__codelineno-75-5" name="__codelineno-75-5"></a>
<a id="__codelineno-75-6" name="__codelineno-75-6"></a><span class="w">    </span><span class="k">default</span><span class="w"> </span><span class="n">Hints</span><span class="w"> </span><span class="nf">hints</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-75-7" name="__codelineno-75-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-75-8" name="__codelineno-75-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-75-9" name="__codelineno-75-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>If a generator produces random data, it must use the provided <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/Random.html" target="_blank">Random</a> instance to guarantee that the created object can be reproduced for a given seed value.
The <code>hints()</code> method is for passing additional instructions to the engine. The most important hint is the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generator/AfterGenerate.html" target="_blank">AfterGenerate</a> action which determines whether the engine should:</p>
<ul>
<li>populate uninitialised fields</li>
<li>modify the object by applying matching selectors (if any)</li>
</ul>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">An example of specifying hints</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-76-1">1</a></span>
<span class="normal"><a href="#__codelineno-76-2">2</a></span>
<span class="normal"><a href="#__codelineno-76-3">3</a></span>
<span class="normal"><a href="#__codelineno-76-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1"></a><span class="nd">@Override</span>
<a id="__codelineno-76-2" name="__codelineno-76-2"></a><span class="kd">public</span><span class="w"> </span><span class="n">Hints</span><span class="w"> </span><span class="nf">hints</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-76-3" name="__codelineno-76-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Hints</span><span class="p">.</span><span class="na">afterGenerate</span><span class="p">(</span><span class="n">AfterGenerate</span><span class="p">.</span><span class="na">APPLY_SELECTORS</span><span class="p">);</span>
<a id="__codelineno-76-4" name="__codelineno-76-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>In short, the <code>AfterGenerate</code> enum defines what should happen to an object returned by a generator.
The exact semantics of <code>AfterGenerate</code> actions vary depending on the type of object.
Different rules are applied to POJOs, arrays, collections, and records.
For example, if a generator returns an instance of a <code>record</code>, the returned instance
cannot be modified regardless of the <code>AfterGenerate</code> hint.</p>
<p>The following describes the actions as they apply to POJOs:</p>
<ul>
<li>
<p><strong><code>DO_NOT_MODIFY</code></strong></p>
<p>Indicates that the object created by the generator should not be modified.
The engine will treat the object as read-only and assign it to the target field as is.
Matching selectors will not be applied.</p>
</li>
<li>
<p><strong><code>APPLY_SELECTORS</code></strong></p>
<p>Indicates that the object can only be modified via matching selectors
using <code>set()</code>, <code>supply()</code>, and <code>generate()</code> methods.</p>
</li>
<li>
<p><strong><code>POPULATE_NULLS</code></strong></p>
<p>Indicates that <code>null</code> fields declared by the object should be populated.
In addition, the object will be modifiable using selectors as described
by above by <code>APPLY_SELECTORS</code>.</p>
</li>
<li>
<p><strong><code>POPULATE_NULLS_AND_DEFAULT_PRIMITIVES</code></strong> <strong>(default behaviour)</strong></p>
<p>Indicates that primitive fields with default values declared by the object
should be populated. In addition, the behaviour described by <code>POPULATE_NULLS</code>
applies as well. Default primitives are defined as:</p>
<ul>
<li><code>0</code> for all numeric types</li>
<li><code>false</code> for <code>boolean</code></li>
<li><code>'\u0000'</code> for <code>char</code></li>
</ul>
</li>
<li>
<p><strong><code>POPULATE_ALL</code></strong></p>
<p>Indicates that all fields should be populated, regardless of their initial values.
This action will cause all the values to be overwritten with random data.
This is the default mode the engine operates in when using internal generators.</p>
</li>
</ul>
<p>When defining custom array or collection generators, the following hints can also be used:</p>
<ul>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generator/hints/ArrayHint.html" target="_blank">ArrayHint</a></li>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generator/hints/CollectionHint.html" target="_blank">CollectionHint</a></li>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/generator/hints/MapHint.html" target="_blank">MapHint</a></li>
</ul>
<h4 id="custom-generator-example">Custom Generator Example<a class="headerlink" href="#custom-generator-example" title="Permanent link">&para;</a></h4>
<p>To illustrate the above with an example, consider the following generator that creates an instance of a <code>Phone</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-77-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-77-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-77-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-77-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-77-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-77-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-77-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-77-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-77-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-77-10">10</a></span>
<span class="normal"><a href="#__codelineno-77-11">11</a></span>
<span class="normal"><a href="#__codelineno-77-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1"></a><span class="kd">class</span> <span class="nc">PhoneGenerator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Generator</span><span class="o">&lt;</span><span class="n">Phone</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-77-2" name="__codelineno-77-2"></a>
<a id="__codelineno-77-3" name="__codelineno-77-3"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-77-4" name="__codelineno-77-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Phone</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-77-5" name="__codelineno-77-5"></a><span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">countryCodeLength</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="na">intRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-77-6" name="__codelineno-77-6"></a>
<a id="__codelineno-77-7" name="__codelineno-77-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Phone</span><span class="p">.</span><span class="na">builder</span><span class="p">()</span>
<a id="__codelineno-77-8" name="__codelineno-77-8"></a><span class="w">            </span><span class="p">.</span><span class="na">countryCode</span><span class="p">(</span><span class="s">&quot;+&quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">random</span><span class="p">.</span><span class="na">digits</span><span class="p">(</span><span class="n">countryCodeLength</span><span class="p">))</span>
<a id="__codelineno-77-9" name="__codelineno-77-9"></a><span class="w">            </span><span class="p">.</span><span class="na">number</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="na">digits</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
<a id="__codelineno-77-10" name="__codelineno-77-10"></a><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">();</span>
<a id="__codelineno-77-11" name="__codelineno-77-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-77-12" name="__codelineno-77-12"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Since no <code>hints()</code> are specified, the default <code>AfterGenerate</code> action is <code>POPULATE_NULLS_AND_DEFAULT_PRIMITIVES</code>.
Therefore, the generated object can be customised using selectors:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-78-1">1</a></span>
<span class="normal"><a href="#__codelineno-78-2">2</a></span>
<span class="normal"><a href="#__codelineno-78-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1"></a><span class="n">Phone</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-78-2" name="__codelineno-78-2"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">::</span><span class="n">getCountryCode</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;+55&quot;</span><span class="p">)</span>
<a id="__codelineno-78-3" name="__codelineno-78-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>This will produce an object like <code>Phone[countryCode="+55", number="83703291"]</code>, where the <code>number</code>
is set by the <code>PhoneGenerator</code>, and the <code>countryCode</code> is overridden by applying the selector.
For certain use cases, it may be necessary to prevent deliberate or accidental modification
of generated objects. In such cases, the generator can include the <code>DO_NOT_MODIFY</code> hint as shown below:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-79-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-79-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-79-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-79-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-79-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-79-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-79-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-79-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-79-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-79-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1"></a><span class="kd">class</span> <span class="nc">PhoneGenerator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Generator</span><span class="o">&lt;</span><span class="n">Phone</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-2" name="__codelineno-79-2"></a>
<a id="__codelineno-79-3" name="__codelineno-79-3"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-79-4" name="__codelineno-79-4"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Phone</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* same as before */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-79-5" name="__codelineno-79-5"></a>
<a id="__codelineno-79-6" name="__codelineno-79-6"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-79-7" name="__codelineno-79-7"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Hints</span><span class="w"> </span><span class="nf">hints</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-79-8" name="__codelineno-79-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Hints</span><span class="p">.</span><span class="na">afterGenerate</span><span class="p">(</span><span class="n">AfterGenerate</span><span class="p">.</span><span class="na">DO_NOT_MODIFY</span><span class="p">);</span>
<a id="__codelineno-79-9" name="__codelineno-79-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-79-10" name="__codelineno-79-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>In summary, a generator can instantiate an object and instruct the engine
what should be done with the object after <code>generate()</code> method returns using
the <code>AfterGenerate</code> hint.</p>
<div class="admonition warning">
<p class="admonition-title">Generating <code>record</code> objects</p>
<p>It should be noted that if a generator returns an instance of a <code>record</code>, then the created object cannot
be modified regardless of the <code>AfterGenerate</code> hint. This is due to immutability of records,
since they cannot be modified after construction.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Custom generators can also be specified using the <a href="#instancio-service-provider-interface">Instancio Service Provider Interface</a></p>
</div>
<h3 id="modifying-overwriteexistingvalues-setting">Modifying <code>overwrite.existing.values</code> setting<a class="headerlink" href="#modifying-overwriteexistingvalues-setting" title="Permanent link">&para;</a></h3>
<p>Instancio configuration has a property <code>overwrite.existing.values</code> which by default is set to <code>true</code>.
This results in the following behaviour.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 1: the field is overwritten when creating an object</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-80-1">1</a></span>
<span class="normal"><a href="#__codelineno-80-2">2</a></span>
<span class="normal"><a href="#__codelineno-80-3">3</a></span>
<span class="normal"><a href="#__codelineno-80-4">4</a></span>
<span class="normal"><a href="#__codelineno-80-5">5</a></span>
<span class="normal"><a href="#__codelineno-80-6">6</a></span>
<span class="normal"><a href="#__codelineno-80-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1"></a><span class="kd">class</span> <span class="nc">Address</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-80-2" name="__codelineno-80-2"></a><span class="hll"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">country</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;USA&quot;</span><span class="p">;</span><span class="w"> </span><span class="c1">// default</span>
</span><a id="__codelineno-80-3" name="__codelineno-80-3"></a><span class="w">    </span><span class="c1">// snip...</span>
<a id="__codelineno-80-4" name="__codelineno-80-4"></a><span class="p">}</span>
<a id="__codelineno-80-5" name="__codelineno-80-5"></a>
<a id="__codelineno-80-6" name="__codelineno-80-6"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-80-7" name="__codelineno-80-7"></a><span class="hll"><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getAddress</span><span class="p">().</span><span class="na">getCountry</span><span class="p">()).</span><span class="na">isNotEqualTo</span><span class="p">(</span><span class="s">&quot;USA&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// overwritten!</span>
</span></code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>7</lnum> the country is no longer "USA" as it was overwritten with a random value.<br/></p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 2: the field is overwritten by applying a selector</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-81-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-81-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-81-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-81-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-81-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-81-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-81-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-81-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-81-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-81-10">10</a></span>
<span class="normal"><a href="#__codelineno-81-11">11</a></span>
<span class="normal"><a href="#__codelineno-81-12">12</a></span>
<span class="normal"><a href="#__codelineno-81-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1"></a><span class="kd">class</span> <span class="nc">AddressGenerator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Generator</span><span class="o">&lt;</span><span class="n">Address</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-2" name="__codelineno-81-2"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-81-3" name="__codelineno-81-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Address</span><span class="w"> </span><span class="nf">generate</span><span class="p">(</span><span class="n">Random</span><span class="w"> </span><span class="n">random</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-81-4" name="__codelineno-81-4"></a><span class="hll"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Address</span><span class="p">.</span><span class="na">builder</span><span class="p">().</span><span class="na">country</span><span class="p">(</span><span class="s">&quot;USA&quot;</span><span class="p">).</span><span class="na">build</span><span class="p">();</span>
</span><a id="__codelineno-81-5" name="__codelineno-81-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-81-6" name="__codelineno-81-6"></a><span class="p">}</span>
<a id="__codelineno-81-7" name="__codelineno-81-7"></a>
<a id="__codelineno-81-8" name="__codelineno-81-8"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-81-9" name="__codelineno-81-9"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AddressGenerator</span><span class="p">())</span>
<a id="__codelineno-81-10" name="__codelineno-81-10"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;country&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Canada&quot;</span><span class="p">)</span>
</span><a id="__codelineno-81-11" name="__codelineno-81-11"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-81-12" name="__codelineno-81-12"></a>
<a id="__codelineno-81-13" name="__codelineno-81-13"></a><span class="hll"><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getAddress</span><span class="p">().</span><span class="na">getCountry</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;Canada&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// overwritten!</span>
</span></code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>13</lnum> The country was overwritten via the applied selector.<br/></p>
</div>
<p>To disallow overwriting of initialised fields, the <code>overwrite.existing.values</code> setting can be set to <code>false</code>.
Using the last example to illustrate:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example 3: the initial field is preserved</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-82-1">1</a></span>
<span class="normal"><a href="#__codelineno-82-2">2</a></span>
<span class="normal"><a href="#__codelineno-82-3">3</a></span>
<span class="normal"><a href="#__codelineno-82-4">4</a></span>
<span class="normal"><a href="#__codelineno-82-5">5</a></span>
<span class="normal"><a href="#__codelineno-82-6">6</a></span>
<span class="normal"><a href="#__codelineno-82-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-82-2" name="__codelineno-82-2"></a><span class="w">    </span><span class="p">.</span><span class="na">supply</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AddressGenerator</span><span class="p">())</span>
<a id="__codelineno-82-3" name="__codelineno-82-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;country&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Canada&quot;</span><span class="p">)</span>
<a id="__codelineno-82-4" name="__codelineno-82-4"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">().</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">OVERWRITE_EXISTING_VALUES</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">))</span>
</span><a id="__codelineno-82-5" name="__codelineno-82-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-82-6" name="__codelineno-82-6"></a>
<a id="__codelineno-82-7" name="__codelineno-82-7"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getAddress</span><span class="p">().</span><span class="na">getCountry</span><span class="p">()).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="s">&quot;USA&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// not overwritten!</span>
</code></pre></div></td></tr></table></div>
<h2 id="assignment-settings">Assignment Settings<a class="headerlink" href="#assignment-settings" title="Permanent link">&para;</a></h2>
<p>Assignment settings control whether values are assigned directly to fields (default behaviour)
or via setter methods. There are a few <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> keys with enum values that control the behaviour.</p>
<table>
<thead>
<tr>
<th><code>Keys</code> constant</th>
<th>Enum class</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ASSIGNMENT_TYPE</code></td>
<td><code>AssignmentType</code></td>
</tr>
<tr>
<td><code>SETTER_STYLE</code></td>
<td><code>SetterStyle</code></td>
</tr>
<tr>
<td><code>ON_SET_FIELD_ERROR</code></td>
<td><code>OnSetFieldError</code></td>
</tr>
<tr>
<td><code>ON_SET_METHOD_ERROR</code></td>
<td><code>OnSetMethodError</code></td>
</tr>
<tr>
<td><code>ON_SET_METHOD_NOT_FOUND</code></td>
<td><code>OnSetMethodNotFound</code></td>
</tr>
</tbody>
</table>
<p>To enable assignment via methods, <code>Keys.ASSIGNMENT_TYPE</code> can be set to <code>AssignmentType.METHOD</code>.
When enabled, Instancio will attempt to resolve setter names from field names using <code>SETTER_STYLE</code> setting.
This key's value is the <code>SetterStyle</code> enum that supports three naming conventions:</p>
<ul>
<li><code>SET</code> - standard setter prefix: <code>setFoo("value")</code></li>
<li><code>WITH</code> - for example: <code>withFoo("value")</code></li>
<li><code>PROPERTY</code> - no prefix: <code>foo("value")</code></li>
</ul>
<p>The remaining <code>ON_SET_*</code> keys are used to control error-handling behaviour:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Possible causes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ON_SET_FIELD_ERROR</code></td>
<td>type mismatch, unmodifiable field, access exception</td>
</tr>
<tr>
<td><code>ON_SET_METHOD_ERROR</code></td>
<td>type mismatch, an exception is thrown by setter (e.g. due to validation)</td>
</tr>
<tr>
<td><code>ON_SET_METHOD_NOT_FOUND</code></td>
<td>method does not exist, or the name does not conform to the naming convention defined by <code>SetterStyle</code></td>
</tr>
</tbody>
</table>
<p>All of the above can be set to ignore errors or fail fast by raising an exception.
In addition, both <code>ON_SET_METHOD_*</code> settings can be configured to fall back to field assignment in case of an error.</p>
<p>The following snippet illustrates how to create an object populated via setters.
In this example, <code>SetterStyle.PROPERTY</code> is used since the <code>Phone</code> class has setters without the <em>set</em> prefix:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Populating via setters</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-83-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-83-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-83-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-83-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-83-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-83-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-83-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-83-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-83-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-83-10">10</a></span>
<span class="normal"><a href="#__codelineno-83-11">11</a></span>
<span class="normal"><a href="#__codelineno-83-12">12</a></span>
<span class="normal"><a href="#__codelineno-83-13">13</a></span>
<span class="normal"><a href="#__codelineno-83-14">14</a></span>
<span class="normal"><a href="#__codelineno-83-15">15</a></span>
<span class="normal"><a href="#__codelineno-83-16">16</a></span>
<span class="normal"><a href="#__codelineno-83-17">17</a></span>
<span class="normal"><a href="#__codelineno-83-18">18</a></span>
<span class="normal"><a href="#__codelineno-83-19">19</a></span>
<span class="normal"><a href="#__codelineno-83-20">20</a></span>
<span class="normal"><a href="#__codelineno-83-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1"></a><span class="kd">class</span> <span class="nc">Phone</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-2" name="__codelineno-83-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">areaCode</span><span class="p">;</span>
<a id="__codelineno-83-3" name="__codelineno-83-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<a id="__codelineno-83-4" name="__codelineno-83-4"></a>
<a id="__codelineno-83-5" name="__codelineno-83-5"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">areaCode</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">areaCode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-6" name="__codelineno-83-6"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">areaCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">areaCode</span><span class="p">;</span>
<a id="__codelineno-83-7" name="__codelineno-83-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-8" name="__codelineno-83-8"></a>
<a id="__codelineno-83-9" name="__codelineno-83-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">number</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">number</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-83-10" name="__codelineno-83-10"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<a id="__codelineno-83-11" name="__codelineno-83-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-83-12" name="__codelineno-83-12"></a><span class="p">}</span>
<a id="__codelineno-83-13" name="__codelineno-83-13"></a>
<a id="__codelineno-83-14" name="__codelineno-83-14"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-83-15" name="__codelineno-83-15"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">ASSIGNMENT_TYPE</span><span class="p">,</span><span class="w"> </span><span class="n">AssignmentType</span><span class="p">.</span><span class="na">METHOD</span><span class="p">)</span>
<a id="__codelineno-83-16" name="__codelineno-83-16"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">SETTER_STYLE</span><span class="p">,</span><span class="w"> </span><span class="n">SetterStyle</span><span class="p">.</span><span class="na">PROPERTY</span><span class="p">)</span>
<a id="__codelineno-83-17" name="__codelineno-83-17"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">ON_SET_METHOD_ERROR</span><span class="p">,</span><span class="w"> </span><span class="n">OnSetMethodError</span><span class="p">.</span><span class="na">IGNORE</span><span class="p">);</span>
<a id="__codelineno-83-18" name="__codelineno-83-18"></a>
<a id="__codelineno-83-19" name="__codelineno-83-19"></a><span class="n">Phone</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-83-20" name="__codelineno-83-20"></a><span class="w">        </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-83-21" name="__codelineno-83-21"></a><span class="w">        </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> can be specified per object, as shown above, or globally using a properties file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="na">assignment.type</span><span class="o">=</span><span class="s">METHOD</span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="na">setter.style</span><span class="o">=</span><span class="s">PROPERTY</span>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="na">on.set.method.error</span><span class="o">=</span><span class="s">IGNORE</span>
</code></pre></div>
<p>See <a href="#configuration">Configuration</a> for details.</p>
<h2 id="maximum-depth-setting">Maximum Depth Setting<a class="headerlink" href="#maximum-depth-setting" title="Permanent link">&para;</a></h2>
<p>This setting controls the maximum depth for populating an object.
Instancio will populate values up to the maximum depth.
Beyond that, values will be <code>null</code> unless the maximum depth is set to a higher value.</p>
<p>The count starts from the root object, which is at depth 0.
Children of the root object are at depth 1, grandchildren at depth 2, and so on.
The default value is defined by the <code>Keys.MAX_DEPTH</code> setting key.</p>
<p>The primary reasons for modifying this setting are:</p>
<ul>
<li>
<p><strong>To improve the performance.</strong></p>
<p>The performance may be inadequate when generating a cyclic class structure,
where multiple classes reference each other. Consider reducing the maximum
depth value (and also, using <code>ignore()</code> to exclude certain objects).</p>
</li>
<li>
<p><strong>To generate data beyond the default maximum depth.</strong></p>
<p>If the default maximum depth is not sufficient to fully populate an object,
consider increasing the value.</p>
</li>
</ul>
<h3 id="modifying-maximum-depth">Modifying Maximum Depth<a class="headerlink" href="#modifying-maximum-depth" title="Permanent link">&para;</a></h3>
<p>The setting can be set to a custom value using one of the following options,
from lowest to highest precedence.</p>
<p>Using <code>instancio.properties</code> to define a new global maximum depth:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="na">max.depth</span><span class="o">=</span><span class="s">5</span>
</code></pre></div>
<p>Using <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> with <code>Keys.MAX_DEPTH</code> key.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">().</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">MAX_DEPTH</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div>
<p>Using the API method <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withMaxDepth(int)" target="_blank">withMaxDepth(int depth)</a>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="w">    </span><span class="p">.</span><span class="na">withMaxDepth</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div>
<h2 id="seed">Seed<a class="headerlink" href="#seed" title="Permanent link">&para;</a></h2>
<p>Before creating an object, Instancio initialises a random seed value.
This seed value is used internally by the pseudorandom number generator, that is, <code>java.util.Random</code>.
Instancio ensures that the same instance of the random number generator is used throughout object creation, from start to finish.
This means that Instancio can reproduce the same object again by using the same seed.
This feature allows reproducing failed tests (see the section on <a href="#reproducing-failed-tests">reproducing tests with JUnit</a>).</p>
<p>In addition, Instancio handles classes like <code>UUID</code> and <code>LocalDateTime</code>,
where a minor difference in values can cause an object equality check to fail.
These classes are generated in such a way, that for a given seed value, the generated values will be the same.
To illustrate with an example, we will use the following <code>SamplePojo</code> class.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample POJO</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-88-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-88-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-88-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-88-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-88-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-88-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-88-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-88-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-88-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-88-10">10</a></span>
<span class="normal"><a href="#__codelineno-88-11">11</a></span>
<span class="normal"><a href="#__codelineno-88-12">12</a></span>
<span class="normal"><a href="#__codelineno-88-13">13</a></span>
<span class="normal"><a href="#__codelineno-88-14">14</a></span>
<span class="normal"><a href="#__codelineno-88-15">15</a></span>
<span class="normal"><a href="#__codelineno-88-16">16</a></span>
<span class="normal"><a href="#__codelineno-88-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1"></a><span class="kd">class</span> <span class="nc">SamplePojo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-2" name="__codelineno-88-2"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="n">uuid</span><span class="p">;</span>
<a id="__codelineno-88-3" name="__codelineno-88-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">LocalDateTime</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">;</span>
<a id="__codelineno-88-4" name="__codelineno-88-4"></a>
<a id="__codelineno-88-5" name="__codelineno-88-5"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-88-6" name="__codelineno-88-6"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-7" name="__codelineno-88-7"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<a id="__codelineno-88-8" name="__codelineno-88-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">o</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">SamplePojo</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<a id="__codelineno-88-9" name="__codelineno-88-9"></a><span class="w">        </span><span class="n">SamplePojo</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">)</span><span class="w"> </span><span class="n">o</span><span class="p">;</span>
<a id="__codelineno-88-10" name="__codelineno-88-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">uuid</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">uuid</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="na">localDateTime</span><span class="p">);</span>
<a id="__codelineno-88-11" name="__codelineno-88-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-88-12" name="__codelineno-88-12"></a>
<a id="__codelineno-88-13" name="__codelineno-88-13"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-88-14" name="__codelineno-88-14"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">hashCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-88-15" name="__codelineno-88-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Objects</span><span class="p">.</span><span class="na">hash</span><span class="p">(</span><span class="n">uuid</span><span class="p">,</span><span class="w"> </span><span class="n">localDateTime</span><span class="p">);</span>
<a id="__codelineno-88-16" name="__codelineno-88-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-88-17" name="__codelineno-88-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>By supplying the same seed value, the same object is generated:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Generating two SamplePojo instances with the same seed</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-89-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-89-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-89-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-89-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-89-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-89-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-89-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-89-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-89-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-89-10">10</a></span>
<span class="normal"><a href="#__codelineno-89-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1"></a><span class="kd">final</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span><span class="p">;</span>
<a id="__codelineno-89-2" name="__codelineno-89-2"></a>
<a id="__codelineno-89-3" name="__codelineno-89-3"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-89-4" name="__codelineno-89-4"></a><span class="w">    </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<a id="__codelineno-89-5" name="__codelineno-89-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-89-6" name="__codelineno-89-6"></a>
<a id="__codelineno-89-7" name="__codelineno-89-7"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-89-8" name="__codelineno-89-8"></a><span class="w">    </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<a id="__codelineno-89-9" name="__codelineno-89-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-89-10" name="__codelineno-89-10"></a>
<a id="__codelineno-89-11" name="__codelineno-89-11"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">pojo1</span><span class="p">).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">pojo2</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>If the objects are printed, both produce the same output:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a>SamplePojo(
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a>  uuid=3bf992ad-1121-36a2-826d-94112bf1d82b,
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a>  localDateTime=2069-10-15T10:28:31.940
<a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a>)
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">While the generated values are the same, it is not recommended to write assertions using hard-coded values.</p>
</div>
<h3 id="specifying-seed-value">Specifying Seed Value<a class="headerlink" href="#specifying-seed-value" title="Permanent link">&para;</a></h3>
<p>By default, if no custom seed is specified, Instancio generates a random seed value.
Therefore, each execution results in different outputs.
This behaviour can be overridden by specifying a custom seed using any of the options below.
These are ranked from lowest to highest precedence:</p>
<ul>
<li><code>instancio.properties</code> file</li>
<li><code>@Seed</code> and <code>@WithSettings</code> annotations (when using <a href="#junit-jupiter-integration"><code>InstancioExtension</code></a> for  JUnit Jupiter)</li>
<li><a href="#overriding-settings-programmatically"><code>Settings</code></a> class</li>
<li><a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withSeed(int)" target="_blank">withSeed(int seed)</a>  method of the builder API</li>
</ul>
<p>For example, if a seed value is specified in the properties file, then Instancio will use this seed to generate the data
and each execution will result in the same data being generated.
If another seed is specified using <code>withSeed()</code> method, then it will take precedence over the one from the properties file.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example: instancio.properties</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-91-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1"></a><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Seed precedence</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-92-1">1</a></span>
<span class="normal"><a href="#__codelineno-92-2">2</a></span>
<span class="normal"><a href="#__codelineno-92-3">3</a></span>
<span class="normal"><a href="#__codelineno-92-4">4</a></span>
<span class="normal"><a href="#__codelineno-92-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1"></a><span class="hll"><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</span><a id="__codelineno-92-2" name="__codelineno-92-2"></a>
<a id="__codelineno-92-3" name="__codelineno-92-3"></a><span class="n">SamplePojo</span><span class="w"> </span><span class="n">pojo2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">SamplePojo</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-92-4" name="__codelineno-92-4"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="mi">456</span><span class="p">)</span>
</span><a id="__codelineno-92-5" name="__codelineno-92-5"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> <code>pojo1</code> generated using seed <code>123</code> specified in <code>instancio.properties</code>.<br/>
<lnum>4</lnum> <code>pojo2</code> generated using seed <code>456</code> since <code>withSeed()</code> has higher precedence.</p>
</div>
<h3 id="getting-the-seed-value">Getting the Seed Value<a class="headerlink" href="#getting-the-seed-value" title="Permanent link">&para;</a></h3>
<p>Sometimes it is necessary to get the seed value that was used to generate the data. One such example is for reproducing failed tests. If you are using JUnit 5, the seed value is reported automatically using the <code>InstancioExtension</code> (see <a href="#junit-jupiter-integration">JUnit Jupiter integration</a>). If you are using JUnit 4, TestNG, or Instancio standalone, the seed value can be obtained by calling the <code>asResult()</code> method of the builder API. This returns a <code>Result</code> containing the created object and the seed value that was used to populate its values.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Example of using asResult()</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-93-1">1</a></span>
<span class="normal"><a href="#__codelineno-93-2">2</a></span>
<span class="normal"><a href="#__codelineno-93-3">3</a></span>
<span class="normal"><a href="#__codelineno-93-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1"></a><span class="n">Result</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">).</span><span class="na">asResult</span><span class="p">();</span>
<a id="__codelineno-93-2" name="__codelineno-93-2"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
<a id="__codelineno-93-3" name="__codelineno-93-3"></a><span class="kt">long</span><span class="w"> </span><span class="n">seed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="na">getSeed</span><span class="p">();</span><span class="w"> </span><span class="c1">// seed value that was used for populating the person</span>
<a id="__codelineno-93-4" name="__codelineno-93-4"></a><span class="c1">// snip...</span>
</code></pre></div></td></tr></table></div>
<h1 id="bean-validation">Bean Validation<a class="headerlink" href="#bean-validation" title="Permanent link">&para;</a></h1>
<p>Instancio can generate valid data based on Bean Validation annotations.
This is an experimental feature and is disabled by default.</p>
<p>The feature can be enabled via <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> using <code>Keys.BEAN_VALIDATION_ENABLED</code>,
or globally, using <code>instancio.properties</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="na">bean.validation.enabled</span><span class="o">=</span><span class="s">true</span>
</code></pre></div>
<p>In addition, <code>jakarta.validation-api</code> or <code>validation-api</code> must be present on the classpath for the feature to be activated.
Instancio does not provide the dependency transitively:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>jakarta.validation<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>jakarta.validation-api<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>${jakarta-validation-api-version}<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>or</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>javax.validation<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>validation-api<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>${javax-validation-api-version}<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<p>i.e. Instancio supports the constraint annotations from <code>jakarta.validation.constraints</code> and <code>javax.validation.constraints</code> packages.</p>
<p>Optionally, Hibernate validator must be present on the classpath in order to use
Hibernate-specific annotations:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="nt">&lt;dependency&gt;</span>
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="w">    </span><span class="nt">&lt;groupId&gt;</span>org.hibernate.validator<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="w">    </span><span class="nt">&lt;artifactId&gt;</span>hibernate-validator<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a><span class="w">    </span><span class="nt">&lt;version&gt;</span>${hibernate-validator-version}<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="nt">&lt;/dependency&gt;</span>
</code></pre></div>
<h2 id="supported-annotations">Supported Annotations<a class="headerlink" href="#supported-annotations" title="Permanent link">&para;</a></h2>
<p>The list of supported annotations is provided below.
Anything not listed is unsupported, including <code>*.List</code> annotations.</p>
<h3 id="jakarta-or-javax">Jakarta or Javax<a class="headerlink" href="#jakarta-or-javax" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@DecimalMax</code></li>
<li><code>@DecimalMin</code></li>
<li><code>@Digits</code> (<code>fraction()</code> is partially supported by <code>BigDecimal</code>, but not <code>float</code> or <code>double</code>)</li>
<li><code>@Email</code></li>
<li><code>@Future</code> (not supported by <code>MonthDay</code>)</li>
<li><code>@FutureOrPresent</code> (delegates to <code>Future</code>)</li>
<li><code>@Max</code></li>
<li><code>@Min</code></li>
<li><code>@Negative</code></li>
<li><code>@NegativeOrZero</code></li>
<li><code>@NotBlank</code> (delegates to <code>NotEmpty</code>)</li>
<li><code>@NotEmpty</code></li>
<li><code>@NotNull</code></li>
<li><code>@Past</code> (not supported by <code>MonthDay</code>)</li>
<li><code>@PastOrPresent</code> (delegates to <code>Past</code>)</li>
<li><code>@Positive</code></li>
<li><code>@PositiveOrZero</code></li>
<li><code>@Size</code></li>
</ul>
<h3 id="hibernate">Hibernate<a class="headerlink" href="#hibernate" title="Permanent link">&para;</a></h3>
<ul>
<li><code>@CreditCardNumber</code></li>
<li><code>@DurationMin</code></li>
<li><code>@DurationMax</code></li>
<li><code>@EAN</code></li>
<li><code>@ISBN</code></li>
<li><code>@Length</code></li>
<li><code>@LuhnCheck</code> (<code>startIndex</code>, <code>endIndex</code>, <code>checkDigitIndex</code> are supported; <code>ignoreNonDigitCharacters</code> is ignored, only digits are generated)</li>
<li><code>@Range</code></li>
<li><code>@UniqueElements</code></li>
<li><code>@URL</code> (<code>protocol</code>, <code>host</code>, <code>port</code> are supported; <code>regexp</code> not supported)</li>
<li><code>@UUID</code></li>
</ul>
<h1 id="metamodel">Metamodel<a class="headerlink" href="#metamodel" title="Permanent link">&para;</a></h1>
<p>This section expands on the <a href="#selectors">Selectors</a> section, which described how to target fields.
Instancio uses reflection at the field level to populate objects.
The main reason for using fields and not setters is <a hred="https://docs.oracle.com/javase/tutorial/java/generics/erasure.html" target="_blank">type erasure</a>.
It is not possible to determine the generic type of method parameters at runtime.
However, generic type information is available at the field level:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-98-1">1</a></span>
<span class="normal"><a href="#__codelineno-98-2">2</a></span>
<span class="normal"><a href="#__codelineno-98-3">3</a></span>
<span class="normal"><a href="#__codelineno-98-4">4</a></span>
<span class="normal"><a href="#__codelineno-98-5">5</a></span>
<span class="normal"><a href="#__codelineno-98-6">6</a></span>
<span class="normal"><a href="#__codelineno-98-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1"></a><span class="kd">class</span> <span class="nc">Example</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-98-2" name="__codelineno-98-2"></a><span class="hll"><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">;</span>
</span><a id="__codelineno-98-3" name="__codelineno-98-3"></a>
<a id="__codelineno-98-4" name="__codelineno-98-4"></a><span class="hll"><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">setList</span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">values</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><a id="__codelineno-98-5" name="__codelineno-98-5"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">values</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">values</span><span class="p">;</span>
<a id="__codelineno-98-6" name="__codelineno-98-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-98-7" name="__codelineno-98-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> At runtime, this will be a <code>List&lt;String&gt;</code>.<br/>
<lnum>4</lnum> This becomes a <code>List</code>.</p>
</div>
<p>Without knowing the list's generic type, Instancio would not be able to populate the list.
For this reason, it operates at the field level.
Using fields, however, has one drawback: they require the use of field names.
To circumvent this problem, Instancio includes an annotation processor that can generate metamodel classes.</p>
<p>The following example shows two selectors for the <code>city</code> field of <code>Address</code>, one referencing the field by name, and the other using the generated metamodel class:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Metamodel example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-99-1">1</a></span>
<span class="normal"><a href="#__codelineno-99-2">2</a></span>
<span class="normal"><a href="#__codelineno-99-3">3</a></span>
<span class="normal"><a href="#__codelineno-99-4">4</a></span>
<span class="normal"><a href="#__codelineno-99-5">5</a></span>
<span class="normal"><a href="#__codelineno-99-6">6</a></span>
<span class="normal"><a href="#__codelineno-99-7">7</a></span>
<span class="normal"><a href="#__codelineno-99-8">8</a></span>
<span class="normal"><a href="#__codelineno-99-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1"></a><span class="c1">// Targeting Address &quot;city&quot; field without the metamodel</span>
<a id="__codelineno-99-2" name="__codelineno-99-2"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-99-3" name="__codelineno-99-3"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;city&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;Paris&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;London&quot;</span><span class="p">))</span>
<a id="__codelineno-99-4" name="__codelineno-99-4"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-99-5" name="__codelineno-99-5"></a>
<a id="__codelineno-99-6" name="__codelineno-99-6"></a><span class="c1">// Targeting &#39;Address_.city&#39; using the metamodel</span>
<a id="__codelineno-99-7" name="__codelineno-99-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-99-8" name="__codelineno-99-8"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">Address_</span><span class="p">.</span><span class="na">city</span><span class="p">,</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">oneOf</span><span class="p">(</span><span class="s">&quot;Paris&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;London&quot;</span><span class="p">))</span>
</span><a id="__codelineno-99-9" name="__codelineno-99-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>8</lnum> By default, <code>_</code> is used as the metamodel class suffix, but this can be customised using <code>-Ainstancio.suffix</code> argument.</p>
</div>
<h2 id="configuring-the-annotation-processor">Configuring the Annotation Processor<a class="headerlink" href="#configuring-the-annotation-processor" title="Permanent link">&para;</a></h2>
<h3 id="maven">Maven<a class="headerlink" href="#maven" title="Permanent link">&para;</a></h3>
<p>To configure the annotation processor with Maven, add the <code>&lt;annotationProcessorPaths&gt;</code> element to the build plugins section in your <code>pom.xml</code> as shown below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You still need to have the Instancio library, either <code>instancio-core</code> or <code>instancio-junit</code>, in your <code>&lt;dependencies&gt;</code> (see <a href="../getting-started/">Getting Started</a>).</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Maven</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-100-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-100-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-100-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-100-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-100-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-100-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-100-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-100-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-100-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-100-10">10</a></span>
<span class="normal"><a href="#__codelineno-100-11">11</a></span>
<span class="normal"><a href="#__codelineno-100-12">12</a></span>
<span class="normal"><a href="#__codelineno-100-13">13</a></span>
<span class="normal"><a href="#__codelineno-100-14">14</a></span>
<span class="normal"><a href="#__codelineno-100-15">15</a></span>
<span class="normal"><a href="#__codelineno-100-16">16</a></span>
<span class="normal"><a href="#__codelineno-100-17">17</a></span>
<span class="normal"><a href="#__codelineno-100-18">18</a></span>
<span class="normal"><a href="#__codelineno-100-19">19</a></span>
<span class="normal"><a href="#__codelineno-100-20">20</a></span>
<span class="normal"><a href="#__codelineno-100-21">21</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1"></a><span class="nt">&lt;build&gt;</span>
<a id="__codelineno-100-2" name="__codelineno-100-2"></a><span class="w">    </span><span class="nt">&lt;plugins&gt;</span>
<a id="__codelineno-100-3" name="__codelineno-100-3"></a><span class="w">        </span><span class="nt">&lt;plugin&gt;</span>
<a id="__codelineno-100-4" name="__codelineno-100-4"></a><span class="w">            </span><span class="nt">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-100-5" name="__codelineno-100-5"></a><span class="w">            </span><span class="nt">&lt;artifactId&gt;</span>maven-compiler-plugin<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-100-6" name="__codelineno-100-6"></a><span class="w">            </span><span class="nt">&lt;version&gt;</span>3.8.1<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-100-7" name="__codelineno-100-7"></a><span class="w">            </span><span class="nt">&lt;configuration&gt;</span>
<a id="__codelineno-100-8" name="__codelineno-100-8"></a><span class="w">                </span><span class="nt">&lt;source&gt;</span>${your.java.version}<span class="nt">&lt;/source&gt;</span>
<a id="__codelineno-100-9" name="__codelineno-100-9"></a><span class="w">                </span><span class="nt">&lt;target&gt;</span>${your.java.version}<span class="nt">&lt;/target&gt;</span>
<a id="__codelineno-100-10" name="__codelineno-100-10"></a><span class="w">                </span><span class="nt">&lt;annotationProcessorPaths&gt;</span>
<a id="__codelineno-100-11" name="__codelineno-100-11"></a><span class="w">                    </span><span class="nt">&lt;path&gt;</span>
<a id="__codelineno-100-12" name="__codelineno-100-12"></a><span class="w">                        </span><span class="nt">&lt;groupId&gt;</span>org.instancio<span class="nt">&lt;/groupId&gt;</span>
<a id="__codelineno-100-13" name="__codelineno-100-13"></a><span class="w">                        </span><span class="nt">&lt;artifactId&gt;</span>instancio-processor<span class="nt">&lt;/artifactId&gt;</span>
<a id="__codelineno-100-14" name="__codelineno-100-14"></a><span class="w">                        </span><span class="nt">&lt;version&gt;</span>2.12.1<span class="nt">&lt;/version&gt;</span>
<a id="__codelineno-100-15" name="__codelineno-100-15"></a><span class="w">                    </span><span class="nt">&lt;/path&gt;</span>
<a id="__codelineno-100-16" name="__codelineno-100-16"></a><span class="w">                    </span><span class="cm">&lt;!-- include other processors, if any --&gt;</span>
<a id="__codelineno-100-17" name="__codelineno-100-17"></a><span class="w">                </span><span class="nt">&lt;/annotationProcessorPaths&gt;</span>
<a id="__codelineno-100-18" name="__codelineno-100-18"></a><span class="w">            </span><span class="nt">&lt;/configuration&gt;</span>
<a id="__codelineno-100-19" name="__codelineno-100-19"></a><span class="w">        </span><span class="nt">&lt;/plugin&gt;</span>
<a id="__codelineno-100-20" name="__codelineno-100-20"></a><span class="w">    </span><span class="nt">&lt;/plugins&gt;</span>
<a id="__codelineno-100-21" name="__codelineno-100-21"></a><span class="nt">&lt;/build&gt;</span>
</code></pre></div></td></tr></table></div>
<h3 id="gradle">Gradle<a class="headerlink" href="#gradle" title="Permanent link">&para;</a></h3>
<p>The following can be used with Gradle version 4.6 or higher, add the following to your <code>build.gradle</code> file:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Gradle</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-101-1">1</a></span>
<span class="normal"><a href="#__codelineno-101-2">2</a></span>
<span class="normal"><a href="#__codelineno-101-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1"></a><span class="n">dependencies</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-101-2" name="__codelineno-101-2"></a><span class="w">    </span><span class="n">testAnnotationProcessor</span><span class="w"> </span><span class="s2">&quot;org.instancio:instancio-processor:2.12.1&quot;</span>
<a id="__codelineno-101-3" name="__codelineno-101-3"></a><span class="o">}</span>
</code></pre></div></td></tr></table></div>
<h2 id="generating-metamodels">Generating Metamodels<a class="headerlink" href="#generating-metamodels" title="Permanent link">&para;</a></h2>
<p>With the annotation processor build configuration in place, metamodels can be generated using the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioMetamodel.html" target="_blank">@InstancioMetamodel</a> annotation.
The annotation can be placed on any type, including an interface as shown below.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Using @InstancioMetamodel</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-102-1">1</a></span>
<span class="normal"><a href="#__codelineno-102-2">2</a></span>
<span class="normal"><a href="#__codelineno-102-3">3</a></span>
<span class="normal"><a href="#__codelineno-102-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1"></a><span class="nd">@InstancioMetamodel</span><span class="p">(</span><span class="n">classes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">Address</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">})</span>
<a id="__codelineno-102-2" name="__codelineno-102-2"></a><span class="kd">interface</span> <span class="nc">SampleConfig</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-102-3" name="__codelineno-102-3"></a><span class="w">    </span><span class="c1">// can be left blank</span>
<a id="__codelineno-102-4" name="__codelineno-102-4"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition warning">
<p class="admonition-title">It is not recommended declaring the <code>@InstancioMetamodel</code> annotation with the same <code>classes</code> more than once.</p>
<p>Doing so will result in metamodels being generated more than once as well.
For this reason, it is better to have a dedicated class containing the <code>@InstancioMetamodel</code> annotation.</p>
</div>
<p>Metamodels for classes specified in the annotation will be automatically generated during the build.
Typically metamodels are placed under a generated sources directory, such as <code>generated/sources</code> or <code>generated-sources</code>.
If your IDE does not pick up the generated classes, then adding the generated sources directory to the build path
(or simply reloading the project) should resolve this.</p>
<h1 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h1>
<p>Instancio configuration is encapsulated by the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> class, a map of keys and corresponding values.
The <code>Settings</code> class provides a few static methods for creating settings.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Settings static factory methods</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-103-1">1</a></span>
<span class="normal"><a href="#__codelineno-103-2">2</a></span>
<span class="normal"><a href="#__codelineno-103-3">3</a></span>
<span class="normal"><a href="#__codelineno-103-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1"></a><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-103-2" name="__codelineno-103-2"></a><span class="n">Settings</span><span class="p">.</span><span class="na">defaults</span><span class="p">()</span>
<a id="__codelineno-103-3" name="__codelineno-103-3"></a><span class="n">Settings</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">Object</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">map</span><span class="p">)</span>
<a id="__codelineno-103-4" name="__codelineno-103-4"></a><span class="n">Settings</span><span class="p">.</span><span class="na">from</span><span class="p">(</span><span class="n">Settings</span><span class="w"> </span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1</lnum> Creates a new instance of blank settings.<br/>
<lnum>2</lnum> Creates a new instance containing default settings.<br/>
<lnum>3</lnum> Creates settings from a <code>Map</code> or <code>java.util.Properties</code>.<br/>
<lnum>4</lnum> Creates a copy of <code>other</code> settings (a clone operation).</p>
</div>
<p>Settings can be overridden programmatically or through a properties file.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>To inspect all the keys and default values, simply: <code>System.out.println(Settings.defaults())</code></p>
</div>
<h2 id="overriding-settings-programmatically">Overriding Settings Programmatically<a class="headerlink" href="#overriding-settings-programmatically" title="Permanent link">&para;</a></h2>
<p>To override programmatically, an instance of <code>Settings</code> can be passed in to the builder API:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Supplying custom settings</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-104-1">1</a></span>
<span class="normal"><a href="#__codelineno-104-2">2</a></span>
<span class="normal"><a href="#__codelineno-104-3">3</a></span>
<span class="normal"><a href="#__codelineno-104-4">4</a></span>
<span class="normal"><a href="#__codelineno-104-5">5</a></span>
<span class="normal"><a href="#__codelineno-104-6">6</a></span>
<span class="normal"><a href="#__codelineno-104-7">7</a></span>
<span class="normal"><a href="#__codelineno-104-8">8</a></span>
<span class="normal"><a href="#__codelineno-104-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-104-2" name="__codelineno-104-2"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_MIN_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><a id="__codelineno-104-3" name="__codelineno-104-3"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">STRING_ALLOW_EMPTY</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<a id="__codelineno-104-4" name="__codelineno-104-4"></a><span class="w">    </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">SEED</span><span class="p">,</span><span class="w"> </span><span class="mi">12345L</span><span class="p">)</span><span class="w"> </span><span class="c1">// seed is of type long (note the &#39;L&#39;)</span>
<a id="__codelineno-104-5" name="__codelineno-104-5"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">lock</span><span class="p">();</span>
</span><a id="__codelineno-104-6" name="__codelineno-104-6"></a>
<a id="__codelineno-104-7" name="__codelineno-104-7"></a><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-104-8" name="__codelineno-104-8"></a><span class="hll"><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">overrides</span><span class="p">)</span>
</span><a id="__codelineno-104-9" name="__codelineno-104-9"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Keys.html" target="_blank">Keys</a> class provides static fields for all the keys supported by Instancio.<br/>
<lnum>5</lnum> The <code>lock()</code> method makes the settings instance immutable. This is an optional method call.
It can be used to prevent modifications if settings are shared across multiple methods or classes.<br/>
<lnum>8</lnum> The passed-in settings instance will override default settings.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Range settings auto-adjust</p>
<p>When updating range settings, such as <code>COLLECTION_MIN_SIZE</code> and <code>COLLECTION_MAX_SIZE</code>,
the range bound is auto-adjusted if the new minimum is higher than the current maximum, and vice versa.</p>
</div>
<p>The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Keys.html" target="_blank">Keys</a> class defines a <em>property key</em> for every key object, for example:</p>
<ul>
<li><code>Keys.COLLECTION_MIN_SIZE</code> -&gt; <code>"collection.min.size"</code></li>
<li><code>Keys.STRING_ALLOW_EMPTY</code>  -&gt; <code>"string.allow.empty"</code></li>
</ul>
<p>Using these property keys, configuration values can also be overridden using a properties file.</p>
<h2 id="overriding-settings-using-a-properties-file">Overriding Settings Using a Properties File<a class="headerlink" href="#overriding-settings-using-a-properties-file" title="Permanent link">&para;</a></h2>
<p>Default settings can be overridden using <code>instancio.properties</code>.
Instancio will automatically load this file from the root of the classpath.
The following listing shows all the property keys that can be configured.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Sample configuration properties</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-105-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-105-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-105-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-105-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-105-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-105-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-105-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-105-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-105-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-105-10">10</a></span>
<span class="normal"><a href="#__codelineno-105-11">11</a></span>
<span class="normal"><a href="#__codelineno-105-12">12</a></span>
<span class="normal"><a href="#__codelineno-105-13">13</a></span>
<span class="normal"><a href="#__codelineno-105-14">14</a></span>
<span class="normal"><a href="#__codelineno-105-15">15</a></span>
<span class="normal"><a href="#__codelineno-105-16">16</a></span>
<span class="normal"><a href="#__codelineno-105-17">17</a></span>
<span class="normal"><a href="#__codelineno-105-18">18</a></span>
<span class="normal"><a href="#__codelineno-105-19">19</a></span>
<span class="normal"><a href="#__codelineno-105-20">20</a></span>
<span class="normal"><a href="#__codelineno-105-21">21</a></span>
<span class="normal"><a href="#__codelineno-105-22">22</a></span>
<span class="normal"><a href="#__codelineno-105-23">23</a></span>
<span class="normal"><a href="#__codelineno-105-24">24</a></span>
<span class="normal"><a href="#__codelineno-105-25">25</a></span>
<span class="normal"><a href="#__codelineno-105-26">26</a></span>
<span class="normal"><a href="#__codelineno-105-27">27</a></span>
<span class="normal"><a href="#__codelineno-105-28">28</a></span>
<span class="normal"><a href="#__codelineno-105-29">29</a></span>
<span class="normal"><a href="#__codelineno-105-30">30</a></span>
<span class="normal"><a href="#__codelineno-105-31">31</a></span>
<span class="normal"><a href="#__codelineno-105-32">32</a></span>
<span class="normal"><a href="#__codelineno-105-33">33</a></span>
<span class="normal"><a href="#__codelineno-105-34">34</a></span>
<span class="normal"><a href="#__codelineno-105-35">35</a></span>
<span class="normal"><a href="#__codelineno-105-36">36</a></span>
<span class="normal"><a href="#__codelineno-105-37">37</a></span>
<span class="normal"><a href="#__codelineno-105-38">38</a></span>
<span class="normal"><a href="#__codelineno-105-39">39</a></span>
<span class="normal"><a href="#__codelineno-105-40">40</a></span>
<span class="normal"><a href="#__codelineno-105-41">41</a></span>
<span class="normal"><a href="#__codelineno-105-42">42</a></span>
<span class="normal"><a href="#__codelineno-105-43">43</a></span>
<span class="normal"><a href="#__codelineno-105-44">44</a></span>
<span class="normal"><a href="#__codelineno-105-45">45</a></span>
<span class="normal"><a href="#__codelineno-105-46">46</a></span>
<span class="normal"><a href="#__codelineno-105-47">47</a></span>
<span class="normal"><a href="#__codelineno-105-48">48</a></span>
<span class="normal"><a href="#__codelineno-105-49">49</a></span>
<span class="normal"><a href="#__codelineno-105-50">50</a></span>
<span class="normal"><a href="#__codelineno-105-51">51</a></span>
<span class="normal"><a href="#__codelineno-105-52">52</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-105-1" name="__codelineno-105-1"></a><span class="hll"><span class="na">array.elements.nullable</span><span class="o">=</span><span class="s">false</span>
</span><a id="__codelineno-105-2" name="__codelineno-105-2"></a><span class="na">array.max.length</span><span class="o">=</span><span class="s">6</span>
<a id="__codelineno-105-3" name="__codelineno-105-3"></a><span class="na">array.min.length</span><span class="o">=</span><span class="s">2</span>
<a id="__codelineno-105-4" name="__codelineno-105-4"></a><span class="hll"><span class="na">array.nullable</span><span class="o">=</span><span class="s">false</span>
</span><a id="__codelineno-105-5" name="__codelineno-105-5"></a><span class="na">boolean.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-6" name="__codelineno-105-6"></a><span class="na">byte.max</span><span class="o">=</span><span class="s">127</span>
<a id="__codelineno-105-7" name="__codelineno-105-7"></a><span class="na">byte.min</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-105-8" name="__codelineno-105-8"></a><span class="na">byte.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-9" name="__codelineno-105-9"></a><span class="na">character.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-10" name="__codelineno-105-10"></a><span class="hll"><span class="na">collection.elements.nullable</span><span class="o">=</span><span class="s">false</span>
</span><a id="__codelineno-105-11" name="__codelineno-105-11"></a><span class="na">collection.max.size</span><span class="o">=</span><span class="s">6</span>
<a id="__codelineno-105-12" name="__codelineno-105-12"></a><span class="na">collection.min.size</span><span class="o">=</span><span class="s">2</span>
<a id="__codelineno-105-13" name="__codelineno-105-13"></a><span class="na">collection.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-14" name="__codelineno-105-14"></a><span class="na">double.max</span><span class="o">=</span><span class="s">10000</span>
<a id="__codelineno-105-15" name="__codelineno-105-15"></a><span class="na">double.min</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-105-16" name="__codelineno-105-16"></a><span class="na">double.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-17" name="__codelineno-105-17"></a><span class="na">float.max</span><span class="o">=</span><span class="s">10000</span>
<a id="__codelineno-105-18" name="__codelineno-105-18"></a><span class="na">float.min</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-105-19" name="__codelineno-105-19"></a><span class="na">float.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-20" name="__codelineno-105-20"></a><span class="na">integer.max</span><span class="o">=</span><span class="s">10000</span>
<a id="__codelineno-105-21" name="__codelineno-105-21"></a><span class="na">integer.min</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-105-22" name="__codelineno-105-22"></a><span class="na">integer.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-23" name="__codelineno-105-23"></a><span class="na">long.max</span><span class="o">=</span><span class="s">10000</span>
<a id="__codelineno-105-24" name="__codelineno-105-24"></a><span class="na">long.min</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-105-25" name="__codelineno-105-25"></a><span class="na">long.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-26" name="__codelineno-105-26"></a><span class="hll"><span class="na">map.keys.nullable</span><span class="o">=</span><span class="s">false</span>
</span><a id="__codelineno-105-27" name="__codelineno-105-27"></a><span class="hll"><span class="na">map.values.nullable</span><span class="o">=</span><span class="s">false</span>
</span><a id="__codelineno-105-28" name="__codelineno-105-28"></a><span class="na">map.max.size</span><span class="o">=</span><span class="s">6</span>
<a id="__codelineno-105-29" name="__codelineno-105-29"></a><span class="na">map.min.size</span><span class="o">=</span><span class="s">2</span>
<a id="__codelineno-105-30" name="__codelineno-105-30"></a><span class="na">map.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-31" name="__codelineno-105-31"></a><span class="na">max.depth</span><span class="o">=</span><span class="s">8</span>
<a id="__codelineno-105-32" name="__codelineno-105-32"></a><span class="hll"><span class="na">mode</span><span class="o">=</span><span class="s">STRICT</span>
</span><a id="__codelineno-105-33" name="__codelineno-105-33"></a><span class="na">hint.after.generate</span><span class="o">=</span><span class="s">POPULATE_NULLS_AND_DEFAULT_PRIMITIVES</span>
<a id="__codelineno-105-34" name="__codelineno-105-34"></a><span class="na">overwrite.existing.values</span><span class="o">=</span><span class="s">true</span>
<a id="__codelineno-105-35" name="__codelineno-105-35"></a><span class="na">assignment.type</span><span class="o">=</span><span class="s">FIELD</span>
<a id="__codelineno-105-36" name="__codelineno-105-36"></a><span class="hll"><span class="na">on.set.field.error</span><span class="o">=</span><span class="s">IGNORE</span>
</span><a id="__codelineno-105-37" name="__codelineno-105-37"></a><span class="na">on.set.method.error</span><span class="o">=</span><span class="s">ASSIGN_FIELD</span>
<a id="__codelineno-105-38" name="__codelineno-105-38"></a><span class="na">on.set.method.not.found</span><span class="o">=</span><span class="s">ASSIGN_FIELD</span>
<a id="__codelineno-105-39" name="__codelineno-105-39"></a><span class="na">setter.style</span><span class="o">=</span><span class="s">SET</span>
<a id="__codelineno-105-40" name="__codelineno-105-40"></a><span class="na">seed</span><span class="o">=</span><span class="s">12345</span>
<a id="__codelineno-105-41" name="__codelineno-105-41"></a><span class="na">short.max</span><span class="o">=</span><span class="s">10000</span>
<a id="__codelineno-105-42" name="__codelineno-105-42"></a><span class="na">short.min</span><span class="o">=</span><span class="s">1</span>
<a id="__codelineno-105-43" name="__codelineno-105-43"></a><span class="na">short.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-44" name="__codelineno-105-44"></a><span class="na">string.allow.empty</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-45" name="__codelineno-105-45"></a><span class="na">string.field.prefix.enabled</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-46" name="__codelineno-105-46"></a><span class="na">string.max.length</span><span class="o">=</span><span class="s">10</span>
<a id="__codelineno-105-47" name="__codelineno-105-47"></a><span class="na">string.min.length</span><span class="o">=</span><span class="s">3</span>
<a id="__codelineno-105-48" name="__codelineno-105-48"></a><span class="na">string.nullable</span><span class="o">=</span><span class="s">false</span>
<a id="__codelineno-105-49" name="__codelineno-105-49"></a><span class="hll"><span class="na">subtype.java.util.Collection</span><span class="o">=</span><span class="s">java.util.ArrayList</span>
</span><a id="__codelineno-105-50" name="__codelineno-105-50"></a><span class="na">subtype.java.util.List</span><span class="o">=</span><span class="s">java.util.ArrayList</span>
<a id="__codelineno-105-51" name="__codelineno-105-51"></a><span class="na">subtype.java.util.Map</span><span class="o">=</span><span class="s">java.util.HashMap</span>
<a id="__codelineno-105-52" name="__codelineno-105-52"></a><span class="na">subtype.java.util.SortedMap</span><span class="o">=</span><span class="s">java.util.TreeMap</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>1,10,26-27</lnum> The <code>*.elements.nullable</code>, <code>map.keys.nullable</code>, <code>map.values.nullable</code> specify whether Instancio can generate <code>null</code> values for array/collection elements and map keys and values.<br/>
<lnum>4</lnum> The other <code>*.nullable</code> properties specifies whether Instancio can generate <code>null</code> values for a given type.<br/>
<lnum>32</lnum> Specifies the mode, either <code>STRICT</code> or <code>LENIENT</code>. See <a href="#selector-strictness">Selector Strictness</a>.<br/>
<lnum>36</lnum> Specifies a global seed value.<br/>
<lnum>49</lnum> Properties prefixed with <code>subtype</code> are used to specify default implementations for abstract types, or map types to subtypes in general.
This is the same mechanism as <a href="#subtype-mapping">subtype mapping</a>, but configured via properties.</p>
</div>
<h2 id="settings-precedence">Settings Precedence<a class="headerlink" href="#settings-precedence" title="Permanent link">&para;</a></h2>
<p>Instancio layers settings on top of each other, each layer overriding the previous ones.
This is done in the following order:</p>
<ol>
<li><code>Settings.defaults()</code></li>
<li>Settings from <code>instancio.properties</code></li>
<li>Settings injected using <code>@WithSettings</code> annotation when using <code>InstancioExtension</code> (see <a href="#settings-injection">Settings Injection</a>)</li>
<li>Settings supplied using the builder API's <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withSettings(org.instancio.settings.Settings)" target="_blank">withSettings(Settings)</a> method</li>
</ol>
<p>In the absence of any other configuration, Instancio uses defaults as returned by <code>Settings.defaults()</code>. If <code>instancio.properties</code> is found at the root of the classpath, it will override the defaults. Finally, settings can also be overridden at runtime using <code>@WithSettings</code> annotation or <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withSettings(org.instancio.settings.Settings)" target="_blank">withSettings(Settings)</a> method. The latter takes precedence over everything else.</p>
<h1 id="instancio-service-provider-interface">Instancio Service Provider Interface<a class="headerlink" href="#instancio-service-provider-interface" title="Permanent link">&para;</a></h1>
<p>The <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/spi/InstancioServiceProvider.html" target="_blank">InstancioServiceProvider</a> interface allows customising how objects are created and populated.
It defines the following methods, which return <code>null</code> by default and can be overridden as needed:</p>
<ul>
<li><code>GeneratorProvider getGeneratorProvider()</code></li>
<li><code>TypeResolver getTypeResolver()</code></li>
<li><code>TypeInstantiator getTypeInstantiator()</code></li>
</ul>
<p>An implementation of <code>InstancioServiceProvider</code> can be registered by creating
a file named <code>org.instancio.spi.InstancioServiceProvider</code> under <code>/META-INF/services/</code>.
The file should contain the fully-qualified name of the implementation class, for example:</p>
<div class="highlight"><span class="filename">/META-INF/services/org.instancio.spi.InstancioServiceProvider</span><pre><span></span><code><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a>org.example.InstancioServiceProviderImpl
</code></pre></div>
<h2 id="generatorprovider"><code>GeneratorProvider</code><a class="headerlink" href="#generatorprovider" title="Permanent link">&para;</a></h2>
<p>This interface allows mapping a <code>Node</code> to a <code>GeneratorSpec</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="kd">interface</span> <span class="nc">GeneratorProvider</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a><span class="w">    </span><span class="n">GeneratorSpec</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">getGenerator</span><span class="p">(</span><span class="n">Node</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">Generators</span><span class="w"> </span><span class="n">gen</span><span class="p">);</span>
<a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="p">}</span>
</code></pre></div>
<p>The <code>Generators</code> parameter provides access to built-in generators.
This is the same class that is provided to the <code>generate()</code> method.</p>
<p>The <code>Node</code> object represents a class and/or field in the node hierarchy,
for example:</p>
<ul>
<li><code>Person.dateOfBirth</code> node will have the target class <code>LocalDate</code> and the <code>java.lang.reflect.Field</code> <code>dateOfBirth</code></li>
<li>the collection element node of <code>List&lt;Phone&gt;</code> will have the target class <code>Phone</code> and a <code>null</code> field</li>
</ul>
<h3 id="use-case">Use Case<a class="headerlink" href="#use-case" title="Permanent link">&para;</a></h3>
<p>The main use case for implementing the <code>GeneratorProvider</code> is to have generators resolved automatically.
For example, the following implementation generates maximum string length based on the <code>length</code> attribute
of the JPA <code>@Column</code> annotation:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-108-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-108-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-108-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-108-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-108-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-108-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-108-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-108-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-108-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-108-10">10</a></span>
<span class="normal"><a href="#__codelineno-108-11">11</a></span>
<span class="normal"><a href="#__codelineno-108-12">12</a></span>
<span class="normal"><a href="#__codelineno-108-13">13</a></span>
<span class="normal"><a href="#__codelineno-108-14">14</a></span>
<span class="normal"><a href="#__codelineno-108-15">15</a></span>
<span class="normal"><a href="#__codelineno-108-16">16</a></span>
<span class="normal"><a href="#__codelineno-108-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-108-1" name="__codelineno-108-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">javax.persistence.Column</span><span class="p">;</span>
<a id="__codelineno-108-2" name="__codelineno-108-2"></a>
<a id="__codelineno-108-3" name="__codelineno-108-3"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">GeneratorProviderImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">GeneratorProvider</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-108-4" name="__codelineno-108-4"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-108-5" name="__codelineno-108-5"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">GeneratorSpec</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">getGenerator</span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">Node</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Generators</span><span class="w"> </span><span class="n">gen</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-108-6" name="__codelineno-108-6"></a><span class="w">        </span><span class="n">Field</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="na">getField</span><span class="p">();</span>
<a id="__codelineno-108-7" name="__codelineno-108-7"></a><span class="w">        </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">targetClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">node</span><span class="p">.</span><span class="na">getTargetClass</span><span class="p">();</span>
<a id="__codelineno-108-8" name="__codelineno-108-8"></a>
<a id="__codelineno-108-9" name="__codelineno-108-9"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">targetClass</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">String</span><span class="p">.</span><span class="na">class</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-108-10" name="__codelineno-108-10"></a><span class="w">            </span><span class="n">Column</span><span class="w"> </span><span class="n">column</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">field</span><span class="p">.</span><span class="na">getDeclaredAnnotation</span><span class="p">(</span><span class="n">Column</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-108-11" name="__codelineno-108-11"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">column</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-108-12" name="__codelineno-108-12"></a><span class="hll"><span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">string</span><span class="p">().</span><span class="na">maxLength</span><span class="p">(</span><span class="n">column</span><span class="p">.</span><span class="na">length</span><span class="p">());</span>
</span><a id="__codelineno-108-13" name="__codelineno-108-13"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-108-14" name="__codelineno-108-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-108-15" name="__codelineno-108-15"></a><span class="hll"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><a id="__codelineno-108-16" name="__codelineno-108-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-108-17" name="__codelineno-108-17"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>12</lnum> Set maximum string length based on the <code>length</code> attribute.<br/>
<lnum>15</lnum> Returning <code>null</code> means a value will be generated using built-in generators.<br/></p>
</div>
<p>Assuming the following entity:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-109-1">1</a></span>
<span class="normal"><a href="#__codelineno-109-2">2</a></span>
<span class="normal"><a href="#__codelineno-109-3">3</a></span>
<span class="normal"><a href="#__codelineno-109-4">4</a></span>
<span class="normal"><a href="#__codelineno-109-5">5</a></span>
<span class="normal"><a href="#__codelineno-109-6">6</a></span>
<span class="normal"><a href="#__codelineno-109-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-109-1" name="__codelineno-109-1"></a><span class="kd">class</span> <span class="nc">Phone</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-109-2" name="__codelineno-109-2"></a><span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-109-3" name="__codelineno-109-3"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">countryCode</span><span class="p">;</span>
<a id="__codelineno-109-4" name="__codelineno-109-4"></a>
<a id="__codelineno-109-5" name="__codelineno-109-5"></a><span class="w">    </span><span class="nd">@Column</span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
<a id="__codelineno-109-6" name="__codelineno-109-6"></a><span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">number</span><span class="p">;</span>
<a id="__codelineno-109-7" name="__codelineno-109-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Calling <code>Instancio.create()</code> should produce string lengths that conform to the schema:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-110-1">1</a></span>
<span class="normal"><a href="#__codelineno-110-2">2</a></span>
<span class="normal"><a href="#__codelineno-110-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-110-1" name="__codelineno-110-1"></a><span class="n">Phone</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-110-2" name="__codelineno-110-2"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">phone</span><span class="p">.</span><span class="na">getCountryCode</span><span class="p">()).</span><span class="na">hasSizeLessThanOrEqualTo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-110-3" name="__codelineno-110-3"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">phone</span><span class="p">.</span><span class="na">getNumber</span><span class="p">()).</span><span class="na">hasSizeLessThanOrEqualTo</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<p>Using the API methods <code>set()</code>, <code>supply()</code>, or <code>generate()</code>
it is still possible to override values using the API if needed:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-111-1">1</a></span>
<span class="normal"><a href="#__codelineno-111-2">2</a></span>
<span class="normal"><a href="#__codelineno-111-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-111-1" name="__codelineno-111-1"></a><span class="n">Phone</span><span class="w"> </span><span class="n">phone</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Phone</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-111-2" name="__codelineno-111-2"></a><span class="w">    </span><span class="p">.</span><span class="na">generate</span><span class="p">(</span><span class="n">field</span><span class="p">(</span><span class="n">Phone</span><span class="p">::</span><span class="n">getNumber</span><span class="p">),</span><span class="w"> </span><span class="n">gen</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">gen</span><span class="p">.</span><span class="na">string</span><span class="p">().</span><span class="na">length</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<a id="__codelineno-111-3" name="__codelineno-111-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<h2 id="typeresolver"><code>TypeResolver</code><a class="headerlink" href="#typeresolver" title="Permanent link">&para;</a></h2>
<p>This interface allows mapping a type to a subtype:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="kd">interface</span> <span class="nc">TypeResolver</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a><span class="w">    </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">getSubtype</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>
<a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="p">}</span>
</code></pre></div>
<p>The subtype mapping uses the same mechanism as the <code>subtype()</code> API method.</p>
<h3 id="use-case_1">Use Case<a class="headerlink" href="#use-case_1" title="Permanent link">&para;</a></h3>
<p>The primary use case for implementing the <code>TypeResolver</code> is to resolve subtypes automatically.
By default, Instancio does not resolve the implementation class if given an abstract type.
Instead, the implementation class must be specified manually.
This can be done either via the <code>subtype()</code> method:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-113-1">1</a></span>
<span class="normal"><a href="#__codelineno-113-2">2</a></span>
<span class="normal"><a href="#__codelineno-113-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-113-1" name="__codelineno-113-1"></a><span class="n">Animal</span><span class="w"> </span><span class="n">animal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Animal</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-113-2" name="__codelineno-113-2"></a><span class="w">    </span><span class="p">.</span><span class="na">subtype</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">Animal</span><span class="p">.</span><span class="na">class</span><span class="p">),</span><span class="w"> </span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-113-3" name="__codelineno-113-3"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>or via <code>Settings</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-114-1">1</a></span>
<span class="normal"><a href="#__codelineno-114-2">2</a></span>
<span class="normal"><a href="#__codelineno-114-3">3</a></span>
<span class="normal"><a href="#__codelineno-114-4">4</a></span>
<span class="normal"><a href="#__codelineno-114-5">5</a></span>
<span class="normal"><a href="#__codelineno-114-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-114-1" name="__codelineno-114-1"></a><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-114-2" name="__codelineno-114-2"></a><span class="w">    </span><span class="p">.</span><span class="na">mapType</span><span class="p">(</span><span class="n">Animal</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-114-3" name="__codelineno-114-3"></a>
<a id="__codelineno-114-4" name="__codelineno-114-4"></a><span class="n">Animal</span><span class="w"> </span><span class="n">animal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Animal</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-114-5" name="__codelineno-114-5"></a><span class="w">    </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<a id="__codelineno-114-6" name="__codelineno-114-6"></a><span class="w">    </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
</code></pre></div></td></tr></table></div>
<p>Using <code>TypeResolver</code>, the subtype can be resolved automatically:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-115-1">1</a></span>
<span class="normal"><a href="#__codelineno-115-2">2</a></span>
<span class="normal"><a href="#__codelineno-115-3">3</a></span>
<span class="normal"><a href="#__codelineno-115-4">4</a></span>
<span class="normal"><a href="#__codelineno-115-5">5</a></span>
<span class="normal"><a href="#__codelineno-115-6">6</a></span>
<span class="normal"><a href="#__codelineno-115-7">7</a></span>
<span class="normal"><a href="#__codelineno-115-8">8</a></span>
<span class="normal"><a href="#__codelineno-115-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-115-1" name="__codelineno-115-1"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TypeResolverImpl</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">TypeResolver</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-115-2" name="__codelineno-115-2"></a><span class="w">    </span><span class="nd">@Override</span>
<a id="__codelineno-115-3" name="__codelineno-115-3"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">getSubtype</span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-115-4" name="__codelineno-115-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Animal</span><span class="p">.</span><span class="na">class</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-115-5" name="__codelineno-115-5"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">;</span>
<a id="__codelineno-115-6" name="__codelineno-115-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-115-7" name="__codelineno-115-7"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<a id="__codelineno-115-8" name="__codelineno-115-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-115-9" name="__codelineno-115-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>Then calling <code>Instancio.create()</code> should use the specified subtype:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-116-1">1</a></span>
<span class="normal"><a href="#__codelineno-116-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-116-1" name="__codelineno-116-1"></a><span class="n">Animal</span><span class="w"> </span><span class="n">animal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Animal</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-116-2" name="__codelineno-116-2"></a><span class="n">assertThat</span><span class="p">(</span><span class="n">animal</span><span class="p">).</span><span class="na">isExactlyInstanceOf</span><span class="p">(</span><span class="n">Cat</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</code></pre></div></td></tr></table></div>
<div class="admonition info">
<p class="admonition-title">Scanning the Classpath</p>
<p>Using <code>TypeResolver</code> it is also possible to resolve implementation classes
via classpath scanning, for example, using a third-party library.
For a sample implementation, see <a href="https://github.com/instancio/instancio-samples"><code>type-resolver-sample</code></a>.</p>
</div>
<h2 id="typeinstantiator"><code>TypeInstantiator</code><a class="headerlink" href="#typeinstantiator" title="Permanent link">&para;</a></h2>
<p>This interface is for providing custom instantiation logic for classes that
Instancio is unable to instantiate out-of-the-box:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="kd">interface</span> <span class="nc">TypeInstantiator</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a><span class="w">    </span><span class="n">Object</span><span class="w"> </span><span class="nf">instantiate</span><span class="p">(</span><span class="n">Class</span><span class="o">&lt;?&gt;</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>
<a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="p">}</span>
</code></pre></div>
<p>By default, Instancio attempts to instantiate a class using the default constructor.
If the default constructor is unavailable or fails (for example, the constructor throws an exception),
Instancio will attempt to use a constructor with the least number of parameters and pass in default values.
If the last option also fails, then it resorts to JDK-specific approaches, such as using <code>sun.misc.Unsafe</code>.
There may be situations where all the listed options fail, which would result in <code>null</code> values
being generated. Using <code>TypeInstantiator</code> allows plugging in custom instantiation logic.</p>
<h1 id="junit-jupiter-integration">JUnit Jupiter Integration<a class="headerlink" href="#junit-jupiter-integration" title="Permanent link">&para;</a></h1>
<p>Instancio supports JUnit 5 via the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/InstancioExtension.html" target="_blank">InstancioExtension</a> and can be used in combination with extensions from other testing frameworks.
The extension adds a few useful features, such as</p>
<ul>
<li>the ability to use <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/InstancioSource.html" target="_blank">@InstancioSource</a> with <code>@ParameterizedTest</code> methods,</li>
<li>injection of custom settings using <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/WithSettings.html" target="_blank">@WithSettings</a>,</li>
<li>and most importantly support for reproducing failed tests using the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/Seed.html" target="_blank">@Seed</a> annotation.</li>
</ul>
<h2 id="reproducing-failed-tests">Reproducing Failed Tests<a class="headerlink" href="#reproducing-failed-tests" title="Permanent link">&para;</a></h2>
<p>Since using Instancio validates your code against random inputs on each test run,
having the ability to reproduce failed tests with previously generated data becomes a necessity.
Instancio supports this use case by reporting the seed value of a failed test in the failure message using JUnit's <code>publishReportEntry</code> mechanism.</p>
<h3 id="seed-lifecycle-in-a-junit-jupiter-test">Seed Lifecycle in a JUnit Jupiter Test<a class="headerlink" href="#seed-lifecycle-in-a-junit-jupiter-test" title="Permanent link">&para;</a></h3>
<p>Instancio initialises a seed value before each test method.
This seed value is used for creating all objects during the test method's execution
unless another seed is specified explicitly using the <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/InstancioApi.html#withSeed(int)" target="_blank">withSeed(int seed)</a> method.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Seed Lifecycle in a JUnit Test</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-118-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-118-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-118-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-118-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-118-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-118-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-118-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-118-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-118-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-118-10">10</a></span>
<span class="normal"><a href="#__codelineno-118-11">11</a></span>
<span class="normal"><a href="#__codelineno-118-12">12</a></span>
<span class="normal"><a href="#__codelineno-118-13">13</a></span>
<span class="normal"><a href="#__codelineno-118-14">14</a></span>
<span class="normal"><a href="#__codelineno-118-15">15</a></span>
<span class="normal"><a href="#__codelineno-118-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-118-1" name="__codelineno-118-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-118-2" name="__codelineno-118-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-118-3" name="__codelineno-118-3"></a>
<a id="__codelineno-118-4" name="__codelineno-118-4"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-118-5" name="__codelineno-118-5"></a><span class="hll"><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">example</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
</span><a id="__codelineno-118-6" name="__codelineno-118-6"></a>
<a id="__codelineno-118-7" name="__codelineno-118-7"></a><span class="hll"><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</span><a id="__codelineno-118-8" name="__codelineno-118-8"></a>
<a id="__codelineno-118-9" name="__codelineno-118-9"></a><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-118-10" name="__codelineno-118-10"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">withSeed</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</span><a id="__codelineno-118-11" name="__codelineno-118-11"></a><span class="w">            </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-118-12" name="__codelineno-118-12"></a>
<a id="__codelineno-118-13" name="__codelineno-118-13"></a><span class="hll"><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</span><a id="__codelineno-118-14" name="__codelineno-118-14"></a>
<a id="__codelineno-118-15" name="__codelineno-118-15"></a><span class="hll"><span class="w">    </span><span class="p">}</span>
</span><a id="__codelineno-118-16" name="__codelineno-118-16"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>5</lnum> Instancio initialises a random seed value, for example, <code>8276</code>.<br/>
<lnum>7</lnum> Uses seed value <code>8276</code>.<br/>
<lnum>10</lnum> Uses the supplied seed value <code>123</code>.<br/>
<lnum>13</lnum> Uses seed value <code>8276</code>.<br/>
<lnum>15</lnum> Seed value <code>8276</code> goes out of scope.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Even though <code>person1</code> and <code>person3</code> are created using the same seed value of <code>8276</code>, they are actually distinct objects, each containing different values. This is because the same instance of the random number generator is used throughout the test method.</p>
</div>
<h3 id="test-failure-reporting">Test Failure Reporting<a class="headerlink" href="#test-failure-reporting" title="Permanent link">&para;</a></h3>
<p>When a test method fails, Instancio adds a message containing the seed value to the failed test's output.
Using the following failing test as an example:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Test failure example</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-119-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-119-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-119-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-119-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-119-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-119-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-119-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-119-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-119-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-119-10">10</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-119-1" name="__codelineno-119-1"></a><span class="nd">@Test</span>
<a id="__codelineno-119-2" name="__codelineno-119-2"></a><span class="kt">void</span><span class="w"> </span><span class="nf">verifyShippingAddress</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-119-3" name="__codelineno-119-3"></a><span class="w">    </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
<a id="__codelineno-119-4" name="__codelineno-119-4"></a>
<a id="__codelineno-119-5" name="__codelineno-119-5"></a><span class="w">    </span><span class="c1">// Some method under test</span>
<a id="__codelineno-119-6" name="__codelineno-119-6"></a><span class="w">    </span><span class="n">Address</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shippingService</span><span class="p">.</span><span class="na">getShippingAddress</span><span class="p">(</span><span class="n">person</span><span class="p">);</span>
<a id="__codelineno-119-7" name="__codelineno-119-7"></a>
<a id="__codelineno-119-8" name="__codelineno-119-8"></a><span class="w">    </span><span class="c1">// A failing assertion</span>
<a id="__codelineno-119-9" name="__codelineno-119-9"></a><span class="w">    </span><span class="n">assertThat</span><span class="p">(</span><span class="n">address</span><span class="p">).</span><span class="na">isEqualTo</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getAddress</span><span class="p">());</span>
<a id="__codelineno-119-10" name="__codelineno-119-10"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>The failed test output will include the following message:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a>Test method &#39;verifyShippingAddress&#39; failed with seed: 8532
</code></pre></div>
<p>The failed test can be reproduced by using the seed reported in the failure message.
This can be done by placing the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/Seed.html" target="_blank">@Seed</a> annotation on the test method:</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Reproducing a failed test</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-121-1">1</a></span>
<span class="normal"><a href="#__codelineno-121-2">2</a></span>
<span class="normal"><a href="#__codelineno-121-3">3</a></span>
<span class="normal"><a href="#__codelineno-121-4">4</a></span>
<span class="normal"><a href="#__codelineno-121-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-121-1" name="__codelineno-121-1"></a><span class="nd">@Test</span>
<a id="__codelineno-121-2" name="__codelineno-121-2"></a><span class="hll"><span class="nd">@Seed</span><span class="p">(</span><span class="mi">8532</span><span class="p">)</span>
</span><a id="__codelineno-121-3" name="__codelineno-121-3"></a><span class="kt">void</span><span class="w"> </span><span class="nf">verifyShippingAddress</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-121-4" name="__codelineno-121-4"></a><span class="w">    </span><span class="c1">// snip ... same test code as above</span>
<a id="__codelineno-121-5" name="__codelineno-121-5"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>2</lnum> Specifying the seed will reproduce previously generated values.</p>
</div>
<p>With the <code>@Seed</code> annotation in place, the data becomes effectively static.
This allows the root cause to be established and fixed.
Once the test is passing, the <code>@Seed</code> annotation can be removed so that new data will be generated on each subsequent test run.</p>
<h2 id="settings-injection">Settings Injection<a class="headerlink" href="#settings-injection" title="Permanent link">&para;</a></h2>
<p>The <code>InstancioExtension</code> also adds support for injecting <a href="https://javadoc.io/doc/org.instancio/instancio-core/latest/org/instancio/settings/Settings.html" target="_blank">Settings</a> into a test class.
The injected settings will be used by every test method within the class.
This can be done using the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/WithSettings.html" target="_blank">@WithSettings</a> annotation.</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Injecting Settings into a test class</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-122-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-122-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-122-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-122-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-122-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-122-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-122-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-122-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-122-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-122-10">10</a></span>
<span class="normal"><a href="#__codelineno-122-11">11</a></span>
<span class="normal"><a href="#__codelineno-122-12">12</a></span>
<span class="normal"><a href="#__codelineno-122-13">13</a></span>
<span class="normal"><a href="#__codelineno-122-14">14</a></span>
<span class="normal"><a href="#__codelineno-122-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-122-1" name="__codelineno-122-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-122-2" name="__codelineno-122-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-122-3" name="__codelineno-122-3"></a>
<a id="__codelineno-122-4" name="__codelineno-122-4"></a><span class="hll"><span class="w">    </span><span class="nd">@WithSettings</span>
</span><a id="__codelineno-122-5" name="__codelineno-122-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-122-6" name="__codelineno-122-6"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_MIN_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-122-7" name="__codelineno-122-7"></a>
<a id="__codelineno-122-8" name="__codelineno-122-8"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-122-9" name="__codelineno-122-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">example</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-122-10" name="__codelineno-122-10"></a><span class="hll"><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">create</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">);</span>
</span><a id="__codelineno-122-11" name="__codelineno-122-11"></a>
<a id="__codelineno-122-12" name="__codelineno-122-12"></a><span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getPhoneNumbers</span><span class="p">())</span>
<a id="__codelineno-122-13" name="__codelineno-122-13"></a><span class="w">            </span><span class="p">.</span><span class="na">hasSizeGreaterThanOrEqualTo</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-122-14" name="__codelineno-122-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-122-15" name="__codelineno-122-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>4</lnum> Inject custom settings to be used by every test method within the class.<br/>
<lnum>10</lnum> Every object will be created using the injected settings.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">There can be only one field annotated <code>@WithSettings</code> per test class.</p>
</div>
<p>Instancio also supports overriding the injected settings using the <code>withSettings</code> method as shown below.
The settings provided via the method take precedence over the injected settings (see <a href="#settings-precedence">Settings Precedence</a> for further information).</p>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Overriding injecting Settings</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-123-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-123-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-123-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-123-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-123-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-123-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-123-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-123-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-123-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-123-10">10</a></span>
<span class="normal"><a href="#__codelineno-123-11">11</a></span>
<span class="normal"><a href="#__codelineno-123-12">12</a></span>
<span class="normal"><a href="#__codelineno-123-13">13</a></span>
<span class="normal"><a href="#__codelineno-123-14">14</a></span>
<span class="normal"><a href="#__codelineno-123-15">15</a></span>
<span class="normal"><a href="#__codelineno-123-16">16</a></span>
<span class="normal"><a href="#__codelineno-123-17">17</a></span>
<span class="normal"><a href="#__codelineno-123-18">18</a></span>
<span class="normal"><a href="#__codelineno-123-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-123-1" name="__codelineno-123-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-123-2" name="__codelineno-123-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-123-3" name="__codelineno-123-3"></a>
<a id="__codelineno-123-4" name="__codelineno-123-4"></a><span class="w">    </span><span class="nd">@WithSettings</span>
<a id="__codelineno-123-5" name="__codelineno-123-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="n">Settings</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
<a id="__codelineno-123-6" name="__codelineno-123-6"></a><span class="w">        </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_MIN_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
<a id="__codelineno-123-7" name="__codelineno-123-7"></a>
<a id="__codelineno-123-8" name="__codelineno-123-8"></a><span class="w">    </span><span class="nd">@Test</span>
<a id="__codelineno-123-9" name="__codelineno-123-9"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">overrideInjectedSettings</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-123-10" name="__codelineno-123-10"></a><span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instancio</span><span class="p">.</span><span class="na">of</span><span class="p">(</span><span class="n">Person</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-123-11" name="__codelineno-123-11"></a><span class="hll"><span class="w">            </span><span class="p">.</span><span class="na">withSettings</span><span class="p">(</span><span class="n">Settings</span><span class="p">.</span><span class="na">create</span><span class="p">()</span>
</span><a id="__codelineno-123-12" name="__codelineno-123-12"></a><span class="w">                </span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">Keys</span><span class="p">.</span><span class="na">COLLECTION_MAX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-123-13" name="__codelineno-123-13"></a><span class="w">            </span><span class="p">.</span><span class="na">create</span><span class="p">();</span>
<a id="__codelineno-123-14" name="__codelineno-123-14"></a>
<a id="__codelineno-123-15" name="__codelineno-123-15"></a><span class="w">        </span><span class="n">assertThat</span><span class="p">(</span><span class="n">person</span><span class="p">.</span><span class="na">getPhoneNumbers</span><span class="p">())</span>
<a id="__codelineno-123-16" name="__codelineno-123-16"></a><span class="w">            </span><span class="p">.</span><span class="na">as</span><span class="p">(</span><span class="s">&quot;Injected settings can be overridden&quot;</span><span class="p">)</span>
<a id="__codelineno-123-17" name="__codelineno-123-17"></a><span class="w">            </span><span class="p">.</span><span class="na">hasSizeLessThanOrEqualTo</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<a id="__codelineno-123-18" name="__codelineno-123-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-123-19" name="__codelineno-123-19"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<div class="admonition attention">
<p><lnum>11</lnum> Settings passed to the builder method take precedence over the injected settings.</p>
</div>
<p>Instancio supports <code>@WithSettings</code> placed on static and non-static fields.
However, if the test class contains a <code>@ParameterizedTest</code> method, then the settings field <em>must be static</em>.</p>
<h2 id="arguments-source">Arguments Source<a class="headerlink" href="#arguments-source" title="Permanent link">&para;</a></h2>
<p>Using the <a href="https://javadoc.io/doc/org.instancio/instancio-junit/latest/org/instancio/junit/InstancioSource.html" target="_blank">@InstancioSource</a> annotation it is possible to have arguments provided directly to a <code>@ParameterizedTest</code> test method.
This works with a single argument and multiple arguments, each class representing one argument.</p>
<div class="admonition warning">
<p class="admonition-title">Using <code>@ParameterizedTest</code> requires the <code>junit-jupiter-params</code> dependency.</p>
<p>See <a href="https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests-setup" target="_blank">JUnit documentation for details</a>.</p>
</div>
<div class="highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Using @InstancioSource with @ParameterizedTest</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-124-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-124-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-124-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-124-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-124-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-124-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-124-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-124-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-124-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-124-10">10</a></span>
<span class="normal"><a href="#__codelineno-124-11">11</a></span>
<span class="normal"><a href="#__codelineno-124-12">12</a></span>
<span class="normal"><a href="#__codelineno-124-13">13</a></span>
<span class="normal"><a href="#__codelineno-124-14">14</a></span>
<span class="normal"><a href="#__codelineno-124-15">15</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-124-1" name="__codelineno-124-1"></a><span class="nd">@ExtendWith</span><span class="p">(</span><span class="n">InstancioExtension</span><span class="p">.</span><span class="na">class</span><span class="p">)</span>
<a id="__codelineno-124-2" name="__codelineno-124-2"></a><span class="kd">class</span> <span class="nc">ExampleTest</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-124-3" name="__codelineno-124-3"></a>
<a id="__codelineno-124-4" name="__codelineno-124-4"></a><span class="w">    </span><span class="nd">@ParameterizedTest</span>
<a id="__codelineno-124-5" name="__codelineno-124-5"></a><span class="w">    </span><span class="nd">@InstancioSource</span>
<a id="__codelineno-124-6" name="__codelineno-124-6"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">singleArgument</span><span class="p">(</span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-124-7" name="__codelineno-124-7"></a><span class="w">        </span><span class="c1">// snip...</span>
<a id="__codelineno-124-8" name="__codelineno-124-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-124-9" name="__codelineno-124-9"></a>
<a id="__codelineno-124-10" name="__codelineno-124-10"></a><span class="w">    </span><span class="nd">@ParameterizedTest</span>
<a id="__codelineno-124-11" name="__codelineno-124-11"></a><span class="w">    </span><span class="nd">@InstancioSource</span>
<a id="__codelineno-124-12" name="__codelineno-124-12"></a><span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">multipleArguments</span><span class="p">(</span><span class="n">Foo</span><span class="w"> </span><span class="n">foo</span><span class="p">,</span><span class="w"> </span><span class="n">Bar</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="n">Baz</span><span class="w"> </span><span class="n">baz</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-124-13" name="__codelineno-124-13"></a><span class="w">        </span><span class="c1">// snip...</span>
<a id="__codelineno-124-14" name="__codelineno-124-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-124-15" name="__codelineno-124-15"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<p>It should be noted that using <code>@InstancioSource</code> has a couple of important limitations that make it unsuitable in many situations.</p>
<p>The biggest limitation is that the generated objects cannot be customised.
The only option is to customise generated values using <a href="#settings-injection">settings injection</a>.
However, it is not possible to customise values on a per-field basis, as you would with the builder API.</p>
<p>The second limitation is that it does not support parameterized types.
For instance, it is not possible to specify that <code>@InstancioSource(List.class)</code> should be of type <code>List&lt;String&gt;</code>.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        
<!-- More minimal footer -->

<footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <!-- Copyright and theme information -->
            <div class="md-footer-copyright">
                
                <div class="md-footer-copyright__highlight">
                    &copy; Instancio 2022-2023
                </div>
                
                powered by
                <a href="https://www.mkdocs.org" title="MkDocs" target="_blank">MkDocs</a>
                and
                <a href="https://squidfunk.github.io/mkdocs-material/"
                   title="Material for MkDocs" target="_blank">
                    Material for MkDocs</a>
            </div>
            
            <div class="md-social">
  
</div>
            
        </div>
    </div>
</footer>

      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "toc.integrate"], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ba449ae6.min.js"></script>
      
    
  </body>
</html>